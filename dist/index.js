"use strict";function generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}class View{isLogOut=!1;isTestMode=!1;constructor(e={}){if(this.constructor===View)throw new TypeError("Please do not instantiate this class.");this._isViewBuilt=!1,this.props=e,this._createId(),this.initialize(),this.preBuild();let t=this.build();this.child=t,this.postBuild(),this.terminate();let i=this._assembleWrapView();this.isTestMode&&(i=this._generateTestNode(i)),this.viewCache=i.cloneNode(!0),this._inputViewData(t,i),this._isViewBuilt=!0}_assembleWrapView(){let e=this.createWrapView();this._checkHTMLElement(e,"createWrapView");let t=this.styledView(e);this._checkHTMLElement(t,"styledView");let i=this.embedScriptToView(t);return this._checkHTMLElement(i,"embedScriptToView"),i}_generateTestNode(e){let t=e.textContent;e.textContent="";let i=`rgb(${Math.floor(256*Math.random())}, ${Math.floor(256*Math.random())}, ${Math.floor(256*Math.random())})`,r=document.createElement("div");return r.style.background=i,r.textContent=this.constructor.name,e.style.background=i,e.appendChild(r),r&&e.appendChild(document.createTextNode(t)),e}addPseudoElement(){this.child instanceof View&&this.child.addPseudoElement(),this.child instanceof Array&&this.child.forEach((e=>{e.addPseudoElement()}));let e=this.createBeforeElement(),t=this.createAfterElement();e&&(this._checkHTMLElement(e,"createBeforeElement"),this.view.before(e)),t&&(this._checkHTMLElement(t,"createAfterElement"),this.view.after(t))}createBeforeElement(){return null}createAfterElement(){return null}_checkHTMLElement(e,t){if(!(e instanceof HTMLElement))throw new TypeError(t+"must contain an HTMLElenment object. Type passed:",typeof e)}getBuildCompletionState(){return this._isViewBuilt}createWrapView(){return document.createElement("div")}styledView(e){return e}embedScriptToView(e){return e}build(){}preBuild(){}postBuild(){}initialize(){}terminate(){}onDispose(){}_dispose(){this.child instanceof View&&this.child._dispose(),this.child instanceof Array&&this.child.forEach((e=>{e._dispose()})),this.onDispose()}onRendered(){}_rendered(){this.child instanceof View&&this.child._rendered(),this.child instanceof Array&&this.child.forEach((e=>{e._rendered()})),this.onRendered()}rebuild({props:e=null,builtView:t=null}={}){e&&(this.props=e),this.preBuild();let i=document.getElementById(`${this.view.id}`);null!=i&&(this._inputViewData(t??this.build(),this.viewCache.cloneNode(!0)),i.replaceWith(this.view),this._log("rebuilded : View name => "+this.constructor.name+"\nViewID => "+this.view.id),this.postBuild())}_inputViewData(e,t){e instanceof Array?this._inputMultiView(e,t):this._inputSingleView(e,t),this._attributeId(),this._attributeViewNameToDataset()}_inputSingleView(e,t){this.view=t,e instanceof View&&this.view.appendChild(e.view)}_inputMultiView(e,t){this.view||(this.view=t),e.forEach((e=>{e&&this.view.appendChild(e.view)}))}_createId(){this.id=generateUUID()}_attributeId(){this.view.id=this.id}_attributeViewNameToDataset(){this.view.dataset.viewClassName=this.constructor.name}_log(e){this.isLogOut&&console.log("["+this.constructor.name+"] "+e)}}class ProviderObserver{constructor(){return ProviderObserver.instance||(ProviderObserver.instance=this,this.dependencyGraph=new Map,this.updateHistory=[]),ProviderObserver.instance}outLogs(e=!0){this._isOutedLog=e}addDependency(e,t){this.dependencyGraph.has(e)||this.dependencyGraph.set(e,new Set),this.dependencyGraph.get(e).add(t),this.log(`Dependency added: ${this._getProviderInfo(e)} depends on ${this._getProviderInfo(t)}`)}deleteDependency(e,t){this.dependencyGraph.has(e)&&this.dependencyGraph.get(e).delete(t),this.log(`Dependency deleted: ${this._getProviderInfo(e)} unsubscribed ${this._getProviderInfo(t)}`)}_isLargeObject(e,t=10240){try{return new Blob([e]).size>t}catch(e){return console.error("オブジェクトの解析中にエラーが発生しました:",e),!0}}logUpdate(e,t,i){t=t&&t.props&&t.id?`${t.constructor.name}__viewId:${t.id}`:t,i=i&&i.props&&i.id?`${i.constructor.name}__viewId:${i.id}`:i,this._isLargeObject(t)&&(t="Large Object (simplified)"),this._isLargeObject(i)&&(i="Large Object (simplified)");const r={timestamp:new Date,provider:e.name,oldValue:t,newValue:i,stackTrace:this._getStackTrace()};this.updateHistory.push(r),this.log(`Update: ${r.provider} changed from ${JSON.stringify(t)} to ${JSON.stringify(i)}`)}getDependencyGraph(){const e={};return this.dependencyGraph.forEach(((t,i)=>{e[this._getProviderInfo(i)]=Array.from(t).map((e=>this._getProviderInfo(e)))})),e}getAllUpdateHistory(){return this.updateHistory}getFilteredUpdateHistory(e){return this.updateHistory.filter((t=>t.provider===this._getProviderInfo(e)))}_getProviderInfo(e){return e.name}_getStackTrace(){const e=(new Error).stack.toString();return e.substr(13,e.length)}log(e,t=null){if(!this._isOutedLog)return;const i=`[ProviderObserver] ${e}`;t?console.log(i,JSON.stringify(t,null,2)):console.log(i)}static clearInstance(){ProviderObserver.instance=null}}class Provider{constructor(e){this._dependencies=new Map,this._listeners=new Set,this._core=new ProviderCore(e)}static createProvider(e,t=null){let i=new Provider(e);return i._setName(t),i}_setName(e){this.name=e||Math.random().toString(36).substr(2,9)}read(){if(!this._core.isInitialized){const e=this._createRef();this._core.value=this._core.create(e),this._core.isInitialized=!0}return this._core.value}watch(e,{immediate:t=!0}={}){return this._listeners.add(e),t&&e(this.read()),()=>{this._listeners.delete(e)}}update(e){const t=this.read(),i=e(t);(new ProviderObserver).logUpdate(this,t,i),this._core.value=i,this._notifyListeners(i)}_notifyListeners(e){this._listeners.forEach((t=>t(e)))}_createRef(){const e=new ProviderObserver;return{read:e=>e.read(),update:t=>{const i=this.read();this.update(t);const r=this.read();e.logUpdate(this,i,r)},watch:(t,i)=>{e.addDependency(this,t),this._dependencies.set(t,new Dependency(t,this,i))}}}unsubscribedDependency(e){const t=new ProviderObserver;this._dependencies[e].unsubscribedParent(),this._dependencies.delete(e),t.deleteDependency(this.parentProvider)}}class ProviderCore{constructor(e){this.create=e,this.value=null,this.isInitialized=!1}}class Dependency{constructor(e,t,i){this.parentProvider=e,this.provider=t,this._listenParent(i)}printDependency(){console.log(this.provider+" depends on "+this.parentProvider)}_listenParent(e){this._unsubscribed=this.parentProvider.watch((t=>{this.provider.update((()=>e(t)))}),{immediate:!1})}unsubscribedParent(){this._unsubscribed()}}class ProviderScope extends View{constructor({child:e,props:t={},watchingProviders:i=[]}){t.providers=i,t.child=e,super(t),this._iterateProviders()}_iterateProviders(){this.providers.forEach((e=>{this._watch(e)}))}_watch(e){e.watch((()=>{this.rebuild()}),{immediate:!1})}}class LimitedProviderScope extends ProviderScope{constructor({props:e={},watchingProviders:t=[],build:i=()=>{}}){e.providers=t,e.build=i,super({props:e,watchingProviders:e.providers})}build(){const e=this.providers.map((e=>e.read()));return this.build(e)}postBuild(){this.onPostBuild()}onPostBuild(){}preBuild(){this.onPreBuild()}onPreBuild(){}}class ShadowLevel{static LVL0=new ShadowLevel("none");static LVL1=new ShadowLevel("0px 0px 4px rgba(0,0,0,0.1)");static LVL2=new ShadowLevel("0px 0px 8px rgba(0,0,0,0.12)");static LVL3=new ShadowLevel("0px 0px 16px rgba(0,0,0,0.14)");static LVL4=new ShadowLevel("0px 0px 24px rgba(0,0,0,0.16)");static LVL5=new ShadowLevel("0px 0px 32px rgba(0,0,0,0.18)");static LVL6=new ShadowLevel("0px 0px 40px rgba(0,0,0,0.20)");static LVL7=new ShadowLevel("0px 0px 48px rgba(0,0,0,0.22)");static LVL8=new ShadowLevel("0px 0px 56px rgba(0,0,0,0.24)");static LVL9=new ShadowLevel("0px 0px 64px rgba(0,0,0,0.26)");static LVL10=new ShadowLevel("0px 0px 72px rgba(0,0,0,0.28)");constructor(e){this.value=e}toString(){return this.value}}class BaseCSS{#e={};constructor({width:e=null,height:t=null,margin:i=null,padding:r=null,borderCSS:s=null}={}){this.#e={width:e,height:t,margin:i,padding:r,borderCSS:s}}applyCSS(e){return this.#e.width&&(e.style.width=this.#e.width),this.#e.height&&(e.style.height=this.#e.height),this.#e.margin&&(e.style.margin=this.#e.margin),this.#e.padding&&(e.style.padding=this.#e.padding),this.#e.borderCSS&&(e=this.#e.borderCSS.applyCSS(e)),e}get width(){return this.#e.width}get height(){return this.#e.height}get margin(){return this.#e.margin}get padding(){return this.#e.padding}get assembledBorder(){return this.#e.assembledBorder}}class WebkitCSS{#e={};constructor({webkitTransform:e=null,webkitTransformOrigin:t=null,webkitTransformStyle:i=null,webkitTransition:r=null,webkitTransitionDelay:s=null,webkitTransitionDuration:o=null,webkitTransitionProperty:n=null,webkitTransitionTimingFunction:l=null,webkitAnimation:p=null,webkitAnimationDelay:a=null,webkitAnimationDirection:d=null,webkitAnimationDuration:h=null,webkitAnimationFillMode:c=null,webkitAnimationIterationCount:w=null,webkitAnimationName:u=null,webkitAnimationPlayState:b=null,webkitAnimationTimingFunction:k=null,webkitFlex:S=null,webkitFlexBasis:g=null,webkitFlexDirection:y=null,webkitFlexFlow:m=null,webkitFlexGrow:x=null,webkitFlexShrink:C=null,webkitFlexWrap:v=null,webkitJustifyContent:f=null,webkitAlignItems:P=null,webkitAlignContent:B=null,webkitAlignSelf:T=null,webkitOrder:V=null,webkitBoxSizing:L=null,webkitBoxShadow:A=null,webkitBoxReflect:E=null,webkitBoxPack:_=null,webkitBoxAlign:M=null,webkitBoxFlex:F=null,webkitBoxFlexGroup:R=null,webkitBoxLines:I=null,webkitBoxOrdinalGroup:O=null,webkitBoxOrient:W=null,webkitBoxDirection:D=null,webkitFontSmoothing:H=null,webkitTextSizeAdjust:U=null,webkitTextFillColor:$=null,webkitTextStroke:z=null,webkitTextStrokeColor:G=null,webkitTextStrokeWidth:N=null,webkitBackgroundClip:X=null,webkitTextSecurity:Y=null,webkitLineClamp:j=null,webkitLineBreak:J=null,webkitAppearance:Z=null,webkitFilter:q=null,webkitBackdropFilter:K=null,webkitUserSelect:Q=null,webkitUserDrag:ee=null,webkitUserModify:te=null,webkitTouchCallout:ie=null,webkitOverflowScrolling:re=null,webkitMaskImage:se=null,webkitMaskSize:oe=null,webkitMaskPosition:ne=null,webkitMaskRepeat:le=null,webkitMaskOrigin:pe=null,webkitMaskClip:ae=null,webkitMaskComposite:de=null,webkitPerspective:he=null,webkitPerspectiveOrigin:ce=null,webkitBackfaceVisibility:we=null,webkitTapHighlightColor:ue=null,webkitHyphenateCharacter:be=null,webkitLocale:ke=null,webkitMarginBefore:Se=null,webkitMarginAfter:ge=null,webkitMarginStart:ye=null,webkitMarginEnd:me=null,webkitPaddingBefore:xe=null,webkitPaddingAfter:Ce=null,webkitPaddingStart:ve=null,webkitPaddingEnd:fe=null,webkitBorderStart:Pe=null,webkitBorderEnd:Be=null,webkitBorderBefore:Te=null,webkitBorderAfter:Ve=null,webkitBorderStartWidth:Le=null,webkitBorderEndWidth:Ae=null,webkitBorderBeforeWidth:Ee=null,webkitBorderAfterWidth:_e=null,webkitBorderStartColor:Me=null,webkitBorderEndColor:Fe=null,webkitBorderBeforeColor:Re=null,webkitBorderAfterColor:Ie=null,webkitBorderImage:Oe=null,webkitBorderRadius:We=null,webkitColumnCount:De=null,webkitColumnGap:He=null,webkitColumnRule:Ue=null,webkitColumnRuleColor:$e=null,webkitColumnRuleStyle:ze=null,webkitColumnRuleWidth:Ge=null,webkitColumnSpan:Ne=null,webkitColumnWidth:Xe=null,webkitColumns:Ye=null,webkitShapeOutside:je=null,webkitShapeImageThreshold:Je=null,webkitShapeMargin:Ze=null}={}){this.#e={webkitTransform:e,webkitTransformOrigin:t,webkitTransformStyle:i,webkitTransition:r,webkitTransitionDelay:s,webkitTransitionDuration:o,webkitTransitionProperty:n,webkitTransitionTimingFunction:l,webkitAnimation:p,webkitAnimationDelay:a,webkitAnimationDirection:d,webkitAnimationDuration:h,webkitAnimationFillMode:c,webkitAnimationIterationCount:w,webkitAnimationName:u,webkitAnimationPlayState:b,webkitAnimationTimingFunction:k,webkitFlex:S,webkitFlexBasis:g,webkitFlexDirection:y,webkitFlexFlow:m,webkitFlexGrow:x,webkitFlexShrink:C,webkitFlexWrap:v,webkitJustifyContent:f,webkitAlignItems:P,webkitAlignContent:B,webkitAlignSelf:T,webkitOrder:V,webkitBoxSizing:L,webkitBoxShadow:A,webkitBoxReflect:E,webkitBoxPack:_,webkitBoxAlign:M,webkitBoxFlex:F,webkitBoxFlexGroup:R,webkitBoxLines:I,webkitBoxOrdinalGroup:O,webkitBoxOrient:W,webkitBoxDirection:D,webkitFontSmoothing:H,webkitTextSizeAdjust:U,webkitTextFillColor:$,webkitTextStroke:z,webkitTextStrokeColor:G,webkitTextStrokeWidth:N,webkitBackgroundClip:X,webkitTextSecurity:Y,webkitLineClamp:j,webkitLineBreak:J,webkitAppearance:Z,webkitFilter:q,webkitBackdropFilter:K,webkitUserSelect:Q,webkitUserDrag:ee,webkitUserModify:te,webkitTouchCallout:ie,webkitOverflowScrolling:re,webkitMaskImage:se,webkitMaskSize:oe,webkitMaskPosition:ne,webkitMaskRepeat:le,webkitMaskOrigin:pe,webkitMaskClip:ae,webkitMaskComposite:de,webkitPerspective:he,webkitPerspectiveOrigin:ce,webkitBackfaceVisibility:we,webkitTapHighlightColor:ue,webkitHyphenateCharacter:be,webkitLocale:ke,webkitMarginBefore:Se,webkitMarginAfter:ge,webkitMarginStart:ye,webkitMarginEnd:me,webkitPaddingBefore:xe,webkitPaddingAfter:Ce,webkitPaddingStart:ve,webkitPaddingEnd:fe,webkitBorderStart:Pe,webkitBorderEnd:Be,webkitBorderBefore:Te,webkitBorderAfter:Ve,webkitBorderStartWidth:Le,webkitBorderEndWidth:Ae,webkitBorderBeforeWidth:Ee,webkitBorderAfterWidth:_e,webkitBorderStartColor:Me,webkitBorderEndColor:Fe,webkitBorderBeforeColor:Re,webkitBorderAfterColor:Ie,webkitBorderImage:Oe,webkitBorderRadius:We,webkitColumnCount:De,webkitColumnGap:He,webkitColumnRule:Ue,webkitColumnRuleColor:$e,webkitColumnRuleStyle:ze,webkitColumnRuleWidth:Ge,webkitColumnSpan:Ne,webkitColumnWidth:Xe,webkitColumns:Ye,webkitShapeOutside:je,webkitShapeImageThreshold:Je,webkitShapeMargin:Ze}}applyCSS(e){return this.#e.webkitTransform&&(e.style.webkitTransform=this.#e.webkitTransform),this.#e.webkitTransformOrigin&&(e.style.webkitTransformOrigin=this.#e.webkitTransformOrigin),this.#e.webkitTransformStyle&&(e.style.webkitTransformStyle=this.#e.webkitTransformStyle),this.#e.webkitTransition&&(e.style.webkitTransition=this.#e.webkitTransition),this.#e.webkitTransitionDelay&&(e.style.webkitTransitionDelay=this.#e.webkitTransitionDelay),this.#e.webkitTransitionDuration&&(e.style.webkitTransitionDuration=this.#e.webkitTransitionDuration),this.#e.webkitTransitionProperty&&(e.style.webkitTransitionProperty=this.#e.webkitTransitionProperty),this.#e.webkitTransitionTimingFunction&&(e.style.webkitTransitionTimingFunction=this.#e.webkitTransitionTimingFunction),this.#e.webkitAnimation&&(e.style.webkitAnimation=this.#e.webkitAnimation),this.#e.webkitAnimationDelay&&(e.style.webkitAnimationDelay=this.#e.webkitAnimationDelay),this.#e.webkitAnimationDirection&&(e.style.webkitAnimationDirection=this.#e.webkitAnimationDirection),this.#e.webkitAnimationDuration&&(e.style.webkitAnimationDuration=this.#e.webkitAnimationDuration),this.#e.webkitAnimationFillMode&&(e.style.webkitAnimationFillMode=this.#e.webkitAnimationFillMode),this.#e.webkitAnimationIterationCount&&(e.style.webkitAnimationIterationCount=this.#e.webkitAnimationIterationCount),this.#e.webkitAnimationName&&(e.style.webkitAnimationName=this.#e.webkitAnimationName),this.#e.webkitAnimationPlayState&&(e.style.webkitAnimationPlayState=this.#e.webkitAnimationPlayState),this.#e.webkitAnimationTimingFunction&&(e.style.webkitAnimationTimingFunction=this.#e.webkitAnimationTimingFunction),this.#e.webkitFlex&&(e.style.webkitFlex=this.#e.webkitFlex),this.#e.webkitFlexBasis&&(e.style.webkitFlexBasis=this.#e.webkitFlexBasis),this.#e.webkitFlexDirection&&(e.style.webkitFlexDirection=this.#e.webkitFlexDirection),this.#e.webkitFlexFlow&&(e.style.webkitFlexFlow=this.#e.webkitFlexFlow),this.#e.webkitFlexGrow&&(e.style.webkitFlexGrow=this.#e.webkitFlexGrow),this.#e.webkitFlexShrink&&(e.style.webkitFlexShrink=this.#e.webkitFlexShrink),this.#e.webkitFlexWrap&&(e.style.webkitFlexWrap=this.#e.webkitFlexWrap),this.#e.webkitJustifyContent&&(e.style.webkitJustifyContent=this.#e.webkitJustifyContent),this.#e.webkitAlignItems&&(e.style.webkitAlignItems=this.#e.webkitAlignItems),this.#e.webkitAlignContent&&(e.style.webkitAlignContent=this.#e.webkitAlignContent),this.#e.webkitAlignSelf&&(e.style.webkitAlignSelf=this.#e.webkitAlignSelf),this.#e.webkitOrder&&(e.style.webkitOrder=this.#e.webkitOrder),this.#e.webkitBoxSizing&&(e.style.webkitBoxSizing=this.#e.webkitBoxSizing),this.#e.webkitBoxShadow&&(e.style.webkitBoxShadow=this.#e.webkitBoxShadow),this.#e.webkitBoxReflect&&(e.style.webkitBoxReflect=this.#e.webkitBoxReflect),this.#e.webkitBoxPack&&(e.style.webkitBoxPack=this.#e.webkitBoxPack),this.#e.webkitBoxAlign&&(e.style.webkitBoxAlign=this.#e.webkitBoxAlign),this.#e.webkitBoxFlex&&(e.style.webkitBoxFlex=this.#e.webkitBoxFlex),this.#e.webkitBoxFlexGroup&&(e.style.webkitBoxFlexGroup=this.#e.webkitBoxFlexGroup),this.#e.webkitBoxLines&&(e.style.webkitBoxLines=this.#e.webkitBoxLines),this.#e.webkitBoxOrdinalGroup&&(e.style.webkitBoxOrdinalGroup=this.#e.webkitBoxOrdinalGroup),this.#e.webkitBoxOrient&&(e.style.webkitBoxOrient=this.#e.webkitBoxOrient),this.#e.webkitBoxDirection&&(e.style.webkitBoxDirection=this.#e.webkitBoxDirection),this.#e.webkitFontSmoothing&&(e.style.webkitFontSmoothing=this.#e.webkitFontSmoothing),this.#e.webkitTextSizeAdjust&&(e.style.webkitTextSizeAdjust=this.#e.webkitTextSizeAdjust),this.#e.webkitTextFillColor&&(e.style.webkitTextFillColor=this.#e.webkitTextFillColor),this.#e.webkitTextStroke&&(e.style.webkitTextStroke=this.#e.webkitTextStroke),this.#e.webkitTextStrokeColor&&(e.style.webkitTextStrokeColor=this.#e.webkitTextStrokeColor),this.#e.webkitTextStrokeWidth&&(e.style.webkitTextStrokeWidth=this.#e.webkitTextStrokeWidth),this.#e.webkitBackgroundClip&&(e.style.webkitBackgroundClip=this.#e.webkitBackgroundClip),this.#e.webkitTextSecurity&&(e.style.webkitTextSecurity=this.#e.webkitTextSecurity),this.#e.webkitLineClamp&&(e.style.webkitLineClamp=this.#e.webkitLineClamp),this.#e.webkitLineBreak&&(e.style.webkitLineBreak=this.#e.webkitLineBreak),this.#e.webkitAppearance&&(e.style.webkitAppearance=this.#e.webkitAppearance),this.#e.webkitFilter&&(e.style.webkitFilter=this.#e.webkitFilter),this.#e.webkitBackdropFilter&&(e.style.webkitBackdropFilter=this.#e.webkitBackdropFilter),this.#e.webkitUserSelect&&(e.style.webkitUserSelect=this.#e.webkitUserSelect),this.#e.webkitUserDrag&&(e.style.webkitUserDrag=this.#e.webkitUserDrag),this.#e.webkitUserModify&&(e.style.webkitUserModify=this.#e.webkitUserModify),this.#e.webkitTouchCallout&&(e.style.webkitTouchCallout=this.#e.webkitTouchCallout),this.#e.webkitOverflowScrolling&&(e.style.webkitOverflowScrolling=this.#e.webkitOverflowScrolling),this.#e.webkitMaskImage&&(e.style.webkitMaskImage=this.#e.webkitMaskImage),this.#e.webkitMaskSize&&(e.style.webkitMaskSize=this.#e.webkitMaskSize),this.#e.webkitMaskPosition&&(e.style.webkitMaskPosition=this.#e.webkitMaskPosition),this.#e.webkitMaskRepeat&&(e.style.webkitMaskRepeat=this.#e.webkitMaskRepeat),this.#e.webkitMaskOrigin&&(e.style.webkitMaskOrigin=this.#e.webkitMaskOrigin),this.#e.webkitMaskClip&&(e.style.webkitMaskClip=this.#e.webkitMaskClip),this.#e.webkitMaskComposite&&(e.style.webkitMaskComposite=this.#e.webkitMaskComposite),this.#e.webkitPerspective&&(e.style.webkitPerspective=this.#e.webkitPerspective),this.#e.webkitPerspectiveOrigin&&(e.style.webkitPerspectiveOrigin=this.#e.webkitPerspectiveOrigin),this.#e.webkitBackfaceVisibility&&(e.style.webkitBackfaceVisibility=this.#e.webkitBackfaceVisibility),this.#e.webkitTapHighlightColor&&(e.style.webkitTapHighlightColor=this.#e.webkitTapHighlightColor),this.#e.webkitHyphenateCharacter&&(e.style.webkitHyphenateCharacter=this.#e.webkitHyphenateCharacter),this.#e.webkitLocale&&(e.style.webkitLocale=this.#e.webkitLocale),this.#e.webkitMarginBefore&&(e.style.webkitMarginBefore=this.#e.webkitMarginBefore),this.#e.webkitMarginAfter&&(e.style.webkitMarginAfter=this.#e.webkitMarginAfter),this.#e.webkitMarginStart&&(e.style.webkitMarginStart=this.#e.webkitMarginStart),this.#e.webkitMarginEnd&&(e.style.webkitMarginEnd=this.#e.webkitMarginEnd),this.#e.webkitPaddingBefore&&(e.style.webkitPaddingBefore=this.#e.webkitPaddingBefore),this.#e.webkitPaddingAfter&&(e.style.webkitPaddingAfter=this.#e.webkitPaddingAfter),this.#e.webkitPaddingStart&&(e.style.webkitPaddingStart=this.#e.webkitPaddingStart),this.#e.webkitPaddingEnd&&(e.style.webkitPaddingEnd=this.#e.webkitPaddingEnd),this.#e.webkitBorderStart&&(e.style.webkitBorderStart=this.#e.webkitBorderStart),this.#e.webkitBorderEnd&&(e.style.webkitBorderEnd=this.#e.webkitBorderEnd),this.#e.webkitBorderBefore&&(e.style.webkitBorderBefore=this.#e.webkitBorderBefore),this.#e.webkitBorderAfter&&(e.style.webkitBorderAfter=this.#e.webkitBorderAfter),this.#e.webkitBorderStartWidth&&(e.style.webkitBorderStartWidth=this.#e.webkitBorderStartWidth),this.#e.webkitBorderEndWidth&&(e.style.webkitBorderEndWidth=this.#e.webkitBorderEndWidth),this.#e.webkitBorderBeforeWidth&&(e.style.webkitBorderBeforeWidth=this.#e.webkitBorderBeforeWidth),this.#e.webkitBorderAfterWidth&&(e.style.webkitBorderAfterWidth=this.#e.webkitBorderAfterWidth),this.#e.webkitBorderStartColor&&(e.style.webkitBorderStartColor=this.#e.webkitBorderStartColor),this.#e.webkitBorderEndColor&&(e.style.webkitBorderEndColor=this.#e.webkitBorderEndColor),this.#e.webkitBorderBeforeColor&&(e.style.webkitBorderBeforeColor=this.#e.webkitBorderBeforeColor),this.#e.webkitBorderAfterColor&&(e.style.webkitBorderAfterColor=this.#e.webkitBorderAfterColor),this.#e.webkitBorderImage&&(e.style.webkitBorderImage=this.#e.webkitBorderImage),this.#e.webkitBorderRadius&&(e.style.webkitBorderRadius=this.#e.webkitBorderRadius),this.#e.webkitColumnCount&&(e.style.webkitColumnCount=this.#e.webkitColumnCount),this.#e.webkitColumnGap&&(e.style.webkitColumnGap=this.#e.webkitColumnGap),this.#e.webkitColumnRule&&(e.style.webkitColumnRule=this.#e.webkitColumnRule),this.#e.webkitColumnRuleColor&&(e.style.webkitColumnRuleColor=this.#e.webkitColumnRuleColor),this.#e.webkitColumnRuleStyle&&(e.style.webkitColumnRuleStyle=this.#e.webkitColumnRuleStyle),this.#e.webkitColumnRuleWidth&&(e.style.webkitColumnRuleWidth=this.#e.webkitColumnRuleWidth),this.#e.webkitColumnSpan&&(e.style.webkitColumnSpan=this.#e.webkitColumnSpan),this.#e.webkitColumnWidth&&(e.style.webkitColumnWidth=this.#e.webkitColumnWidth),this.#e.webkitColumns&&(e.style.webkitColumns=this.#e.webkitColumns),this.#e.webkitShapeOutside&&(e.style.webkitShapeOutside=this.#e.webkitShapeOutside),this.#e.webkitShapeImageThreshold&&(e.style.webkitShapeImageThreshold=this.#e.webkitShapeImageThreshold),this.#e.webkitShapeMargin&&(e.style.webkitShapeMargin=this.#e.webkitShapeMargin),e}}class Card extends View{constructor({child:e,radius:t="inherit",baseCSS:i=new BaseCSS({width:"inherit",height:"inherit"}),background:r=null,elevation:s=ShadowLevel.LVL0,webkitCSS:o=new WebkitCSS}){if(!(s instanceof ShadowLevel))throw TypeError("CardコンポーネントのElevationプロパティには、ShadowLevelクラスのみ受け付けています。\n渡された型:"+typeof s);if(!(o instanceof WebkitCSS))throw TypeError("CardコンポーネントのwebkitCSSプロパティには、WebkitCSSクラスのみ受け付けています。\n渡された型:"+typeof s);super({child:e,radius:t,baseCSS:i,background:r,elevation:s,webkitCSS:o})}styledView(e){return e.style.borderRadius=this.radius,this.background&&(e.style.background=this.background),e.style.boxShadow=this.elevation,e=this.baseCSS.applyCSS(e),e=this.webkitCSS.applyCSS(e)}build(){return this.child}}class Center extends View{constructor(e){super({child:e})}styledView(e){return e.style.width="100%",e.style.height="100%",e.style.textAlign="center",e.style.justifyContent="center",e.style.display="flex",e.style.alignItems="center",e.style.borderRadius="inherit",e}build(){return new _Center(this.child)}}class _Center extends View{constructor(e){super({child:e})}styledView(e){return e.style.width="fit-content",e.style.height="fit-content",e.style.margin="auto",e.style.borderRadius="inherit",e}build(){return this.child}}class Column extends View{constructor({children:e,baseCSS:t=new BaseCSS,isHorizontalCenter:i=!1}){super({children:e,baseCSS:t,isHorizontalCenter:i})}styledView(e){return e.style.display="flex",e.style.flexDirection="column",this.isHorizontalCenter&&(e.style.alignItems="center"),e=this.baseCSS.applyCSS(e)}build(){return this.children}}class Padding extends View{constructor({child:e,all:t,top:i="0px",right:r="0px",bottom:s="0px",left:o="0px"}){void 0!==t&&(i=r=s=o=t);const validatePadding=(e,t)=>{if(!/^(?:(\d+(\.\d+)?)(px|rem|em|%|vh|vw)|initial)$/.test(e))throw TypeError(`Paddingコンポーネントの${t}プロパティには、有効なCSSの長さ単位が必要です。\n渡された値: ${e}`)};validatePadding(i,"top"),validatePadding(r,"right"),validatePadding(s,"bottom"),validatePadding(o,"left"),super({child:e,padding:{top:i,right:r,bottom:s,left:o}})}styledView(e){return this.child.view.style.paddingTop=this.padding.top,this.child.view.style.paddingRight=this.padding.right,this.child.view.style.paddingBottom=this.padding.bottom,this.child.view.style.paddingLeft=this.padding.left,e}build(){return this.child}}class _PositionChild extends View{constructor({child:e,top:t=0,left:i=0}){super({child:e,top:t,left:i})}styledView(e){return e.className="pos-wrapper",e.style.width="100%",e.style.height="100%",e.style.position="relative",e.className="pos",e.style.top=this.top+"px",e.style.left=this.left+"px",e}build(){return this.child}}class Row extends View{constructor({children:e,baseCSS:t=new BaseCSS,isAlignCenter:i=!1,isJustifySpaceAround:r=!1,isJustifySpaceBetween:s=!1,isVerticalCenter:o=!1}){super({children:e,baseCSS:t,isAlignCenter:i,isJustifySpaceAround:r,isJustifySpaceBetween:s,isVerticalCenter:o})}styledView(e){return e.className="row-container",e.style.display="flex",this.isAlignCenter&&(e.style.justifyContent="center"),this.isJustifySpaceAround&&(e.style.justifyContent="space-around"),this.isJustifySpaceBetween&&(e.style.justifyContent="space-between"),this.isVerticalCenter&&(e.style.alignItems="center"),e=this.baseCSS.applyCSS(e)}build(){return this.children}}class SpaceBox extends View{constructor({width:e="0px",height:t="0px"}={}){super({width:e,height:t})}styledView(e){return e.style.width=this.width,e.style.height=this.height,e}}class FontCSS{#e={};constructor({color:e=null,fontStyle:t=null,fontWeight:i=null,fontSize:r=null,lineHeight:s=null,fontFamily:o=null}={}){this.#e={color:e,fontStyle:t,fontWeight:i,fontSize:r,lineHeight:s,fontFamily:o}}applyCSS(e){return this.#e.color&&(e.style.color=this.#e.color),this.#e.fontStyle&&(e.style.fontStyle=this.#e.fontStyle),this.#e.fontWeight&&(e.style.fontWeight=this.#e.fontWeight),this.#e.fontSize&&(e.style.fontSize=this.#e.fontSize),this.#e.lineHeight&&(e.style.lineHeight=this.#e.lineHeight),this.#e.fontFamily&&(e.style.fontFamily=this.#e.fontFamily),e}}class TextCSS{#e={};constructor({fontCSS:e=new FontCSS,letterSpacing:t=null,textAlign:i=null,textAlignLast:r=null,textIndent:s=null,textTransform:o=null,lineBreak:n=null,textOverflow:l=null,textWrap:p=null,wordBreak:a=null,textDecoration:d=null,textEmphasis:h=null,textShadow:c=null,writingMode:w=null,textCombineUpright:u=null,textOrientation:b=null,webkitCSS:k=new WebkitCSS}={}){this.#e={fontCSS:e,letterSpacing:t,textAlign:i,textAlignLast:r,textIndent:s,textTransform:o,lineBreak:n,textOverflow:l,textWrap:p,wordBreak:a,textDecoration:d,textEmphasis:h,textShadow:c,writingMode:w,textCombineUpright:u,textOrientation:b,webkitCSS:k}}applyCSS(e){return this.#e.letterSpacing&&(e.style.letterSpacing=this.#e.letterSpacing),this.#e.textAlign&&(e.style.textAlign=this.#e.textAlign),this.#e.textAlignLast&&(e.style.textAlignLast=this.#e.textAlignLast),this.#e.textIndent&&(e.style.textIndent=this.#e.textIndent),this.#e.textTransform&&(e.style.textTransform=this.#e.textTransform),this.#e.lineBreak&&(e.style.lineBreak=this.#e.lineBreak),this.#e.textOverflow&&(e.style.textOverflow=this.#e.textOverflow),this.#e.textWrap&&(e.style.textWrap=this.#e.textWrap),this.#e.wordBreak&&(e.style.wordBreak=this.#e.wordBreak),this.#e.textDecoration&&(e.style.textDecoration=this.#e.textDecoration),this.#e.textEmphasis&&(e.style.textEmphasis=this.#e.textEmphasis),this.#e.textShadow&&(e.style.textShadow=this.#e.textShadow),this.#e.writingMode&&(e.style.writingMode=this.#e.writingMode),this.#e.textCombineUpright&&(e.style.textCombineUpright=this.#e.textCombineUpright),this.#e.textOrientation&&(e.style.textOrientation=this.#e.textOrientation),this.#e.fontCSS&&this.#e.fontCSS.applyCSS(e),this.#e.webkitCSS&&this.#e.webkitCSS.applyCSS(e),e}}class Text extends View{constructor(e,t=new TextCSS){super({text:e,textCSS:t})}createWrapView(){return document.createElement("p")}styledView(e){return e.textContent=this.text,e.style.margin="0",e=this.textCSS.applyCSS(e),this.textCSS.webkitCSS&&(e=this.textCSS.webkitCSS.applyCSS(e)),e}}class BorderCSS{constructor({borderSize:e="0px",borderProperty:t="solid",color:i="transparent",radius:r=null,isTop:s=!0,isLeft:o=!0,isRight:n=!0,isBottom:l=!0}={}){this.borderSize=e,this.borderProperty=t,this.color=i,this.radius=r,this.isTop=s,this.isLeft=o,this.isRight=n,this.isBottom=l}_assembleCSS(){return this.borderSize+" "+this.borderProperty+" "+this.color}applyCSS(e){const t=this._assembleCSS();return this.isTop&&(e.style.borderTop=t),this.isRight&&(e.style.borderRight=t),this.isBottom&&(e.style.borderBottom=t),this.isLeft&&(e.style.borderLeft=t),this.radius&&(e.style.borderRadius=this.radius),e}}class Hover extends View{constructor({child:e,radius:t="inherit",shadow:i=ShadowLevel.LVL5,onClickEffect:r=!1}){super({child:e,radius:t,shadow:i,onClickEffect:r})}styledView(e){return e.style.width="fit-content",e.style.height="fit-content",e.style.position="relative",e.style.borderRadius=this.radius,e}build(){return new Row({baseCSS:new BaseCSS({borderCSS:new BorderCSS({radius:"inherit"})}),children:[this.child,new _HoverWrapper(this.props)]})}}class _HoverWrapper extends View{constructor({radius:e="inherit",onClickEffect:t=!1}){super({radius:e,onClickEffect:t})}styledView(e){return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.background="rgb(0, 0, 0, 0)",e.style.overflow="hidden",e.style.zIndex=998,e.style.borderRadius=this.radius,e}build(){return new _Hover(this.props)}}class _Hover extends View{constructor({radius:e="inherit",onClickEffect:t=!1}){super({radius:e,onClickEffect:t})}styledView(e){return e.style.width="100%",e.style.height="100%",e.style.background="rgb(0, 0, 0, 0)",e.style.mixBlendMode="difference",e.style.transition="background-color 0.4s",e.style.zIndex=999,e.style.borderRadius=this.radius,e}embedScriptToView(e){return e.addEventListener("mouseenter",(()=>{e.style.background="rgb(100, 100, 100, 0.4)"})),e.addEventListener("mouseleave",(()=>{e.style.background="rgb(0, 0, 0, 0)"})),this.onClickEffect?(e.addEventListener("click",(t=>{const i=e.getElementsByClassName("ripple");Array.from(i).forEach((e=>e.remove()));const r=document.createElement("div");r.classList.add("ripple"),r.style.position="absolute",r.style.transform="scale(0)",r.style.animation="",r.style.pointerEvents="none",r.style.background="rgba(200, 200, 200, 0.9)",r.style.borderRadius="50%",r.style.mixBlendMode="difference";const s=e.getBoundingClientRect(),o=t.clientX-s.left,n=t.clientY-s.top,l=e.offsetWidth,p=e.offsetHeight,a=Math.sqrt(l*l+p*p);r.style.width=r.style.height=2*a+"px",r.style.left=o-a+"px",r.style.top=n-a+"px",e.appendChild(r),r.animate([{transform:"scale(1)",opacity:"0"}],{duration:600,easing:"ease-in-out"}),setTimeout((()=>r.remove()),600)})),e):e}}class ElevatedButton extends View{constructor({child:e,radius:t="inherit",baseCSS:i=new BaseCSS,onClick:r=()=>{}}){super({child:e,radius:t,baseCSS:i,onClick:r})}styledView(e){return e.style.borderRadius=this.radius,(e=this.baseCSS.applyCSS(e)).style.padding="0px",e}embedScriptToView(e){return e.addEventListener("click",this.onClick),e}build(){return new Center(new Hover({radius:this.radius,onClickEffect:!0,child:new Padding({all:this.baseCSS.padding??"initial",child:new _ElevatedButton(this.props)})}))}}class _ElevatedButton extends View{constructor({child:e,baseCSS:t,onClick:i=()=>{}}){super({child:e,baseCSS:t,onClick:i})}styledView(e){return e.style.borderRadius="inherit",e.style.width=this.baseCSS.width,e.style.height=this.baseCSS.height,e}build(){return this.child}}class _FlotingActionButton extends View{constructor(e){super({onClick:e})}styledView(e){return e.style.width="64px",e.style.height="64px",e.style.boxShadow=ShadowLevel.LVL4,e.style.borderRadius="1024px",e}build(){return new ElevatedButton({onClick:this.onClick,baseCSS:new BaseCSS({width:"64px",height:"64px"}),radius:"1024px",child:new Center(new Text("+"))})}}class Shrink extends View{constructor(e){super({child:e})}styledView(e){return e.style.width="0px",e.style.height="0px",e.style.overflow="hidden",e}build(){return this.child}}class _RelativePosition extends View{constructor({child:e,relativePositions:t}){super({child:e,relativePositions:t})}styledView(e){return e.style.width="fit-content",e.style.height="fit-content",(e=this.relativePositions.applyCSS(e)).style.borderRadius="inherit",e}build(){return this.child}}class AccordionItem extends View{constructor({title:e,content:t,radius:i,shadowLevel:r,baseCSS:s=new BaseCSS({padding:"4px"})}){super({title:e,content:t,radius:i,shadowLevel:r,isExpanded:Provider.createProvider((()=>!1),`AccordionItem_isExpanded_${generateUUID()}`),baseCSS:s})}createWrapView(){return document.createElement("div")}styledView(e){return e=this.baseCSS.applyCSS(e)}build(){return new Card({radius:this.radius,elevation:this.shadowLevel,baseCSS:new BaseCSS({padding:"4px"}),child:new Column({children:[new Row({children:[new Text(this.title,new TextCSS({fontCSS:new FontCSS({fontWeight:"bold"})})),new SpaceBox({width:"8px"}),new LimitedProviderScope({watchingProviders:[this.isExpanded],build:e=>new Text(e[0]?"▲":"▼")})],isJustifySpaceBetween:!0,isVerticalCenter:!0}),new LimitedProviderScope({watchingProviders:[this.isExpanded],build:e=>e[0]?this.content:new Shrink(this.content)})]})})}embedScriptToView(e){return e.addEventListener("click",(()=>{this.isExpanded.update((e=>!e))})),e}}class PaginationItem extends View{constructor({page:e,label:t,isActive:i,onClick:r,currentPageProvider:s,itemStyle:o}){super({page:e,label:t,isActive:i,onClick:r,currentPageProvider:s,itemStyle:o})}createWrapView(){return document.createElement("li")}styledView(e){return e.style.margin="0 5px",e.style.padding="5px 10px",e.style.border="1px solid #ccc",e.style.borderRadius="5px",e.style.cursor="pointer",this.isActive&&(e.style.backgroundColor="#ccc"),(e=this.itemStyle.applyCSS(e)).textContent=this.label,e}embedScriptToView(e){return e.addEventListener("click",(()=>{this.onClick(this.page),this.currentPageProvider.update((()=>this.page))})),e}}class PaginationNavigationItem extends View{constructor({label:e,onClick:t=()=>{},currentPageProvider:i,isAddition:r=!0,isActive:s=!0}){super({label:e,onClick:t,currentPageProvider:i,isAddition:r,isActive:s})}createWrapView(){return document.createElement("li")}styledView(e){return e.style.margin="0 5px",e.style.padding="5px 10px",e.style.border="1px solid #ccc",e.style.borderRadius="5px",e.style.cursor="pointer",this.isActive||(e.style.backgroundColor="#ccc"),e.textContent=this.label,e}embedScriptToView(e){return e.addEventListener("click",(()=>{this.isActive&&(this.onClick(this.page),this.currentPageProvider.update((e=>this.isAddition?++e:--e)))})),e}}class Header extends View{constructor({child:e,isStickyHeader:t=!1}){super({child:e,isStickyHeader:t})}styledView(e){return this.isStickyHeader&&(e.style.position="sticky"),e.style.top="0",e.style.zIndex=999,e}build(){return this.child}}class _Pre extends View{constructor({code:e,language:t}){super({code:e,language:t})}createWrapView(){return document.createElement("pre")}styledView(e){return e.style.whiteSpace="pre-wrap",e}build(){return new _Code(this.props)}}class _Code extends View{constructor({code:e,language:t}){super({code:e,language:t})}createWrapView(){return document.createElement("code")}styledView(e){return e.classList.add(`lang-${this.language}`),e.classList.add(`${this.language}`),e.innerHTML=this.code,e}}const e=Provider.createProvider((()=>"en"));class _RelativePositionAnimateSwitcher extends View{constructor({child:e,beginPosition:t,endPosition:i}){super({child:e,beginPosition:t,endPosition:i})}styledView(e){return e.style.width="fit-content",e.style.height="fit-content",(e=this.beginPosition.applyCSS(e)).style.borderRadius="inherit",e.style.transition="all 0.5s ease-in-out",e}build(){return this.child}animate(){let e=document.getElementById(this.id);e&&requestAnimationFrame((()=>{requestAnimationFrame((()=>{this.endPosition.applyCSS(e)}))}))}}class RelativePositions{static TOP=new RelativePositions("top");static TOP_RIGHT=new RelativePositions("top-right");static RIGHT=new RelativePositions("right");static BOTTOM_RIGHT=new RelativePositions("bottom-right");static BOTTOM=new RelativePositions("bottom");static BOTTOM_LEFT=new RelativePositions("bottom-left");static LEFT=new RelativePositions("left");static TOP_LEFT=new RelativePositions("top-left");static CENTER=new RelativePositions("center");constructor(e){this.value=e}applyCSS(e){switch(e.style.position="absolute",this.value){case"center":e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)";break;case"top":e.style.top="0",e.style.left="50%",e.style.transform="translateX(-50%)";break;case"top-right":e.style.top="0",e.style.right="0",e.style.transform="translate(0, 0)";break;case"right":e.style.top="50%",e.style.right="0",e.style.transform="translateY(-50%)";break;case"bottom-right":e.style.bottom="0",e.style.right="0",e.style.transform="translate(0, 0)";break;case"bottom":e.style.bottom="0",e.style.left="50%",e.style.transform="translateX(-50%)";break;case"bottom-left":e.style.bottom="0",e.style.left="0",e.style.transform="translate(0, 0)";break;case"left":e.style.top="50%",e.style.left="0",e.style.transform="translateY(-50%)";break;case"top-left":e.style.top="0",e.style.left="0",e.style.transform="translate(0, 0)";break;default:throw new Error("RelativePositions must created by static method, RelativePositions.TOP, RelativePositions.BOTTOM, RelativePositions.RIGHT, etc")}return e}}exports.Accordion=class extends View{constructor({items:e,radius:t="10px",shadowLevel:i=ShadowLevel.LVL2,baseCSS:r=new BaseCSS}){super({items:e,radius:t,shadowLevel:i,baseCSS:r})}build(){return this.items.map((e=>new AccordionItem({...e,radius:this.radius,shadowLevel:this.shadowLevel})))}},exports.AppRouter=class extends ProviderScope{constructor({routes:e,page404:t,homePage:i,startPageRoute:r=""}){super({props:{routes:e,page404:t,homePage:i,startPageRoute:r},watchingProviders:[Provider.createProvider((()=>window.location.hash.substring(1)||r),"currentPage__AppRouter")]}),window.addEventListener("hashchange",(()=>{this.providers[0].update((()=>window.location.hash.substring(1)||r))}))}createWrapView(){return document.createElement("div")}build(){const e=this.providers[0].read(),t=this.routes[e];return e?t?new t:this.page404:this.homePage}},exports.BaseCSS=BaseCSS,exports.BorderCSS=BorderCSS,exports.Box=class extends View{constructor({width:e="0px",height:t="0px",background:i=null,baseCSS:r=new BaseCSS,webkitCSS:s=new WebkitCSS,child:o=null}){super({width:e,height:t,background:i,baseCSS:r,webkitCSS:s,child:o})}styledView(e){return e.style.width=this.width,e.style.height=this.height,this.background&&(e.style.background=this.background),e=this.baseCSS.applyCSS(e),e=this.webkitCSS.applyCSS(e)}build(){return this.child}},exports.Card=Card,exports.Center=Center,exports.Chips=class extends View{constructor({text:e,background:t=null,borderCSS:i=new BorderCSS}){super({text:e,background:t,borderCSS:i})}styledView(e){return e.style.borderRadius="32px",e.style.paddingLeft="16px",e.style.paddingRight="16px",e.style.overflow="hidden",e.style.boxShadow=ShadowLevel.LVL3,this.background&&(e.style.background=this.background),e=this.borderCSS.applyCSS(e)}build(){return new Card({background:this.background??"transparent",child:new Text(this.text)})}},exports.Clip=class extends View{constructor({child:e,baseCSS:t=new BaseCSS}){super({child:e,baseCSS:t})}styledView(e){return(e=this.baseCSS.applyCSS(e)).style.overflow="hidden",e}build(){return this.child}},exports.CodeBlock=class extends View{constructor({code:e,language:t,showLineNumbers:i}){super({code:e,language:t,showLineNumbers:i})}createWrapView(){return document.createElement("div")}build(){return new _Pre({code:this.code,language:this.language})}},exports.Column=Column,exports.DropDownMenu=class extends View{constructor({item:e=[],baseCSS:t=new BaseCSS,provider:i}){super({item:e,baseCSS:t,provider:i})}createWrapView(){return document.createElement("select")}styledView(e){return e=this.baseCSS.applyCSS(e)}embedScriptToView(e){return e.addEventListener("change",(e=>{this.provider.update((()=>e.target.value))})),e}build(){return this.item}},exports.DropDownMenuItem=class extends View{constructor({text:e,value:t}){super({text:e,value:t})}createWrapView(){return document.createElement("option")}styledView(e){return e.textContent=this.text,e.value=this.value,e}},exports.DynamicProviderScope=class extends View{constructor({child:e,props:t={}}){t.child=e,t.providers=[],super(t)}createProvider(e){let t=Provider.createProvider((()=>e));return this.providers.push(t),t}refreshProviders(){this.rebuild({props:this.props})}},exports.ElevatedButton=ElevatedButton,exports.ExpandsPanel=class extends View{constructor({titleItem:e,child:t,radius:i="10px",buttonShadowLevel:r=ShadowLevel.LVL3,panelItemBackGround:s="white"}){super({titleItem:e,child:t,panelItemBackGround:s,radius:i,buttonShadowLevel:r,isExpands:Provider.createProvider((()=>!1),"isExpands__ExpandsPanel")})}styledView(e){return e.style.width="100%",e}build(){return new Column({children:[new Row({isJustifySpaceBetween:!0,isVerticalCenter:!0,children:[this.titleItem,new SpaceBox({width:"8px"}),new Card({radius:this.radius,elevation:this.buttonShadowLevel,child:new ElevatedButton({baseCSS:new BaseCSS({padding:"8px"}),child:new LimitedProviderScope({watchingProviders:[this.isExpands],build:e=>{const t=e[0]?"∧":"∨";return new Text(t)}}),onClick:()=>{this.isExpands.update((e=>!e))}})})]}),new SpaceBox({height:"8px"}),new LimitedProviderScope({watchingProviders:[this.isExpands],build:e=>e[0]?this.child:new Shrink(this.child)})]})}},exports.FloatingActionButton=class extends View{constructor({onClick:e=()=>{}}={}){super({onClick:e})}styledView(e){return e.style.width="fit-content",e.style.height="fit-content",e}build(){return new _FlotingActionButton(this.onClick)}},exports.FontCSS=FontCSS,exports.Grid=class extends View{constructor({children:e,minmaxPX:t,fraction:i=1,gap:r="0px"}){super({children:e,minmaxPX:t,fraction:i,gap:r})}styledView(e){return e.style.display="grid",e.style.gridTemplateColumns="repeat(auto-fit, minmax("+this.minmaxPX+"px, "+this.fraction+"fr))",e.style.gap=this.gap,e}build(){return this.children}},exports.Header=Header,exports.Hover=Hover,exports.Image=class extends View{constructor({src:e="",alt:t="",title:i="",baseCSS:r=new BaseCSS,webkitCSS:s=new WebkitCSS}){super({src:e,alt:t,title:i,baseCSS:r,webkitCSS:s})}createWrapView(){return document.createElement("img")}styledView(e){return e=this.baseCSS.applyCSS(e),(e=this.webkitCSS.applyCSS(e)).src=this.src,e.alt=this.alt,e.title=this.title,e}},exports.LangSwitcher=class extends View{constructor({build:e=()=>{}}){super({build:e})}build(){return new LimitedProviderScope({watchingProviders:[e],build:e=>this.build(e[0])})}},exports.LimitedProviderScope=LimitedProviderScope,exports.Link=class extends View{constructor({child:e,href:t,rel:i=null,target:r=null,isDownload:s=!1,isShownUnderline:o=!0}){super({child:e,href:t,rel:i,target:r,isDownload:s,isShownUnderline:o})}createWrapView(){return document.createElement("a")}styledView(e){return e.href=this.href,this.isDownload&&(e.download="download"),this.rel&&(e.rel=this.rel),this.target&&(e.target=this.target),this.isShownUnderline||(e.style.textDecoration="none"),e}build(){return this.child}},exports.Margin=class extends View{constructor({child:e,all:t,top:i="0px",right:r="0px",bottom:s="0px",left:o="0px"}){void 0!==t&&(i=r=s=o=t);const validateMargin=(e,t)=>{if(!/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw)$/.test(e))throw TypeError(`Marginコンポーネントの${t}プロパティには、有効なCSSの長さ単位が必要です。\n渡された値: ${e}`)};validateMargin(i,"top"),validateMargin(r,"right"),validateMargin(s,"bottom"),validateMargin(o,"left"),super({child:e,margin:{top:i,right:r,bottom:s,left:o}})}styledView(e){return e.style.marginTop=this.margin.top,e.style.marginRight=this.margin.right,e.style.marginBottom=this.margin.bottom,e.style.marginLeft=this.margin.left,e}build(){return this.child}},exports.Padding=Padding,exports.PageRouter=class extends View{constructor({pages:e=[]}){super({pages:e,pageHistoryProvider:Provider.createProvider((()=>[0]),"pageHistoryProvider__PageRouter"),currentPageIndexProvider:Provider.createProvider((()=>0),"currentPageIndexProvider__PageRouter")})}createWrapView(){return document.createElement("div")}build(){return 0===this.pages.length?null:new LimitedProviderScope({watchingProviders:[this.currentPageIndexProvider],build:e=>this.pages[e[0]]})}pushPage(e){this.pageHistoryProvider.update((t=>[...t,e])),this.currentPageIndexProvider.update((()=>e))}popPage(){this.pageHistoryProvider.update((e=>{if(e.length>1){const t=e.slice(0,-1);return this.currentPageIndexProvider.update((()=>t[t.length-1])),t}return e}))}replacePage(e){this.pageHistoryProvider.update((t=>{const i=[...t.slice(0,-1),e];return this.currentPageIndexProvider.update((()=>e)),i}))}canPop(){return this.pageHistoryProvider.read().length>1}},exports.Paginations=class extends View{constructor({totalPages:e,currentPageIndex:t=1,onPageChange:i=()=>{},itemStyle:r=new BaseCSS}){super({totalPages:e,currentPageProvider:Provider.createProvider((()=>t),"currentPage"),onPageChange:i,itemStyle:r})}createWrapView(){return document.createElement("ul")}styledView(e){return e.style.display="flex",e.style.listStyle="none",e.style.padding="0",e}build(){const e=[];let t=Math.max(1,this.currentPageProvider.read()-2),i=Math.min(this.totalPages,this.currentPageProvider.read()+2);i-t+1>5&&(this.currentPageProvider<=Math.ceil(2.5)?i=5:t=i-5+1),e.push(new LimitedProviderScope({watchingProviders:[this.currentPageProvider],build:e=>new PaginationNavigationItem({label:"<",isActive:1!=e,isAddition:!1,currentPageProvider:this.currentPageProvider,itemStyle:this.itemStyle})})),t>1&&e.push(new LimitedProviderScope({watchingProviders:[this.currentPageProvider],build:()=>new PaginationItem({page:1,label:"1",isActive:!1,onClick:this.onPageChange,currentPageProvider:this.currentPageProvider,itemStyle:this.itemStyle})}));for(let i=t;i<=this.totalPages;i++){const t=i;e.push(new LimitedProviderScope({watchingProviders:[this.currentPageProvider],build:()=>new PaginationItem({page:t,label:t.toString(),isActive:t===this.currentPageProvider.read(),onClick:this.onPageChange,currentPageProvider:this.currentPageProvider,itemStyle:this.itemStyle})}))}return e.push(new LimitedProviderScope({watchingProviders:[this.currentPageProvider],build:e=>new PaginationNavigationItem({label:">",isActive:e!=this.totalPages,isAddition:!0,currentPageProvider:this.currentPageProvider,itemStyle:this.itemStyle})})),e}},exports.Position=class extends View{constructor({child:e,top:t=0,left:i=0}){super({child:e,top:t,left:i})}styledView(e){return e.className="pos-wrapper",e.style.width="100%",e.style.height="100%",e}build(){return new _PositionChild({child:this.child,top:this.top,left:this.left})}},exports.Provider=Provider,exports.ProviderObserver=ProviderObserver,exports.ProviderScope=ProviderScope,exports.RadioButton=class extends ProviderScope{constructor({labelText:e,name:t="",checkedRadioButton:i=()=>{},providers:r=null,isDisplay:s=!0,isChecked:o=!1}){super({watchingProviders:r??[],props:{labelText:e,name:t,checkedRadioButton:i,isDisplay:s,isChecked:o}})}createWrapView(){let e=document.createElement("label"),t=document.createElement("input");e.appendChild(t);const i=document.createTextNode(this.labelText);return e.appendChild(i),e}styledView(e){return e.firstElementChild.type="radio",e.firstElementChild.name=this.name,this.isDisplay||(e.firstElementChild.style.display="none"),e.firstElementChild.checked=this.isChecked,e}embedScriptToView(e){return this._setEventListenerToRadioBtn(e),e}_setEventListenerToRadioBtn(e){e.addEventListener("change",(t=>{t.target.checked&&this.checkedRadioButton(e,t)}))}},exports.RelativePosition=class extends View{constructor({child:e,relativePositions:t}){super({child:e,relativePositions:t})}styledView(e){return e.style.width="100%",e.style.height="100%",e.style.textAlign="center",e.style.justifyContent="center",e.style.display="flex",e.style.alignItems="center",e.style.borderRadius="inherit",e}build(){return new _RelativePosition(this.props)}},exports.RelativePositionAnimateSwitcher=class extends View{constructor({child:e,beginPosition:t,endPosition:i,duration:r=600}){super({child:e,beginPosition:t,endPosition:i,duration:r})}styledView(e){return e.style.width="100%",e.style.height="100%",e.style.textAlign="center",e.style.justifyContent="center",e.style.display="flex",e.style.alignItems="center",e.style.borderRadius="inherit",e.style.transition="all 0.5s ease-in-out",e}build(){const e=new _RelativePositionAnimateSwitcher(this.props);return this.repos=e,e}animate(){this.repos.animate()}},exports.RelativePositions=RelativePositions,exports.Row=Row,exports.Scaffold=class extends View{constructor({child:e,header:t=null,footer:i=null,drawer:r=null,floatingActionButton:s=null}){if(!(t instanceof Header))throw new Error("Scaffold header property must assign Header class");super({child:e,header:t,footer:i,drawer:r,floatingActionButton:s})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.width="100%",e.style.height="100%",e}build(){const e=[];return this.header&&e.push(this.header),e.push(this.child),this.footer&&e.push(this.footer),new Column({children:e})}},exports.ShadowLevel=ShadowLevel,exports.Shrink=Shrink,exports.SimpleDialog=class extends View{constructor({child:e,cancelText:t,okText:i,onCancelClickedFn:r=()=>{},onOkClickedFn:s=()=>{}}){super({child:e,cancelText:t,okText:i,onCancelClickedFn:r,onOkClickedFn:s})}createWrapView(){return document.createElement("dialog")}styledView(e){return e}build(){return new Column({children:[this.child,new Row({isAlignCenter:!0,children:[new ElevatedButton({baseCSS:new BaseCSS({margin:"32px"}),child:this.cancelText??new Text("cancel"),onClick:()=>{this.onCancelClickedFn(),this.closeModal()}}),new ElevatedButton({baseCSS:new BaseCSS({margin:"32px"}),child:this.okText??new Text("ok"),onClick:()=>{this.onOkClickedFn(),this.closeModal()}})]})]})}openModal(){document.body.appendChild(this.view),this.view.showModal(),this.addPseudoElement()}closeModal(){this.view.close()}},exports.Slider=class extends View{constructor({provider:e=null,min:t=0,max:i=100,value:r=50,step:s=1,name:o="",onChange:n=()=>{},isDisplay:l=!0,baseCSS:p=new BaseCSS}={}){super({provider:e,min:t,max:i,value:r,step:s,name:o,onChange:n,isDisplay:l,baseCSS:p})}createWrapView(){return document.createElement("input")}styledView(e){return e.type="range",e.min=this.min,e.max=this.max,e.value=this.value,e.step=this.step,e.name=this.name,this.isDisplay||(e.style.display="none"),e=this.baseCSS.applyCSS(e)}embedScriptToView(e){return this._setEventListenerToSlider(e),e}_setEventListenerToSlider(e){e.addEventListener("input",(t=>{this.onChange(t.target.value,e,t),this.provider&&this.provider.update((()=>t.target.value))}))}},exports.SpaceBox=SpaceBox,exports.Stack=class extends View{constructor({children:e,baseCSS:t=new BaseCSS}){super({children:e,baseCSS:t})}styledView(e){return e.style.position="relative",e=this.baseCSS.applyCSS(e)}preBuild(){this.children.forEach((e=>{e.view.style.position="absolute"}))}build(){return this.children}},exports.Text=Text,exports.TextArea=class extends View{constructor({provider:e=null,value:t="",placeholder:i="",maxLength:r=null,rows:s=null,cols:o=null,wrap:n="soft",spellcheck:l=!1,readonly:p=!1,disabled:a=!1,baseCSS:d=new BaseCSS}){super({provider:e,value:t,placeholder:i,maxLength:r,rows:s,cols:o,wrap:n,spellcheck:l,readonly:p,disabled:a,baseCSS:d})}createWrapView(){return document.createElement("textarea")}styledView(e){return(e=this.baseCSS.applyCSS(e)).value=this.value,e.placeholder=this.placeholder,this.maxLength&&(e.maxLength=this.maxLength),this.rows&&(e.rows=this.rows),this.cols&&(e.cols=this.cols),e.wrap=this.wrap,e.spellcheck=this.spellcheck,e.readOnly=this.readonly,e.disabled=this.disabled,e}embedScriptToView(e){return e.addEventListener("input",(()=>{const t=e.value;this.updateProvider(t)})),e}updateProvider(e){this.provider&&this.provider.update((()=>e))}},exports.TextCSS=TextCSS,exports.TextForm=class extends View{constructor({provider:e=null,minLength:t=null,maxLength:i=null,value:r=null,placeholder:s="",required:o="",pattern:n="",baseCSS:l=new BaseCSS}){super({provider:e,minLength:t,maxLength:i,value:r,placeholder:s,required:o,pattern:n,baseCSS:l})}createWrapView(){const e=document.createElement("input");return e.type="text",e}styledView(e){return(e=this.baseCSS.applyCSS(e)).value=this.value||"",e.placeholder=this.placeholder,this.minLength&&(e.minLength=this.minLength),this.maxLength&&(e.maxLength=this.maxLength),e.required=""!==this.required,e.pattern=this.pattern,e}embedScriptToView(e){return e.addEventListener("input",(()=>{const t=e.value;this.updateProvider(t)})),e}updateProvider(e){this.provider&&this.provider.update((()=>e))}},exports.Transform=class extends View{constructor({child:e,baseCSS:t=new BaseCSS,translateX:i=0,translateY:r=0,translateZ:s=0,rotateX:o=0,rotateY:n=0,rotateZ:l=0,scaleX:p=1,scaleY:a=1,scaleZ:d=1,skewX:h=0,skewY:c=0}={}){super({child:e,baseCSS:t,translateX:i,translateY:r,translateZ:s,rotateX:o,rotateY:n,rotateZ:l,scaleX:p,scaleY:a,scaleZ:d,skewX:h,skewY:c})}styledView(e){return e=this.baseCSS.applyCSS(e),e=this._applyTransformCSS(e)}_applyTransformCSS(e){const t=[];return 0===this.translateX&&0===this.translateY&&0===this.translateZ||t.push(`translate3d(${this.translateX}px, ${this.translateY}px, ${this.translateZ}px)`),0!==this.rotateX&&t.push(`rotateX(${this.rotateX}deg)`),0!==this.rotateY&&t.push(`rotateY(${this.rotateY}deg)`),0!==this.rotateZ&&t.push(`rotateZ(${this.rotateZ}deg)`),1===this.scaleX&&1===this.scaleY&&1===this.scaleZ||t.push(`scale3d(${this.scaleX}, ${this.scaleY}, ${this.scaleZ})`),0===this.skewX&&0===this.skewY||t.push(`skew(${this.skewX}deg, ${this.skewY}deg)`),t.length>0&&(e.style.transform=t.join(" ")),e.style.transformOrigin="center center",e}animate(e,t=500,i="ease"){return this.view?(Object.assign(this.props,e),this.view.style.transition=`transform ${t}ms ${i}`,this.view.addEventListener("transitionend",(()=>{this.view.style.transition="",this._applyTransformCSS(this.view)}),{once:!0}),requestAnimationFrame((()=>{this._applyTransformCSS(this.view)})),this):this}build(){return this.child}},exports.View=View,exports.WebkitCSS=WebkitCSS,exports.assembleView=function(e,t="fJutteS-Container"){let i=e.view;e.isTestMode=!0;let r=document.getElementById(t);return null!=r&&r.appendChild(i),i},exports.generateUUID=generateUUID,exports.hashCode=function(e,t=8){void 0===e&&(e=99*Math.random()+1);const i=JSON.stringify(e);let r=0;for(let e=0;e<i.length;e++){r=(r<<5)-r+i.charCodeAt(e),r|=0}return Math.abs(r).toString(16).padStart(t,99*Math.random()+1)},exports.langSwitchProvider=e,exports.route=function(e){window.location.hash=`#${e}`};
