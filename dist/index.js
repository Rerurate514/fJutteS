"use strict";function generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}class View{constructor(){if(this.constructor===View)throw new TypeError("このクラスをインスタンス化しないでください。");this.id=generateUUID(),this._view=document.createElement("div"),this.viewCache=document.createElement("div"),this.viewChild=void 0}get view(){return this._view}assemble(){this.initialize(),this.preBuild(),this.viewChild=this.build(),this.postBuild(),this.terminate();let e=this.assembleWrapView();return this.viewCache=this.embedScriptToView(e.cloneNode(!0)),this.assembleViewData(this.viewChild,this.viewCache),this.view}createWrapView(){return document.createElement("div")}styledView(e){return e}embedScriptToView(e){return e}generateTestNode(e){let t=e.textContent;e.textContent="";let i=`rgb(${Math.floor(256*Math.random())}, ${Math.floor(256*Math.random())}, ${Math.floor(256*Math.random())})`,r=document.createElement("div");return r.style.background=i,r.textContent=this.constructor.name,e.style.background=i,e.appendChild(r),r&&e.appendChild(document.createTextNode(t??"")),e}assembleWrapView(){let e=this.createWrapView();this.checkHTMLElement(e,"createWrapView");let t=this.styledView(e);this.checkHTMLElement(t,"styledView");let i=this.embedScriptToView(t);return this.checkHTMLElement(i,"embedScriptToView"),i}checkHTMLElement(e,t){if(!(e instanceof HTMLElement))throw new TypeError(t+"must contain an HTMLElenment object. Type passed:"+typeof e)}build(){}rebuild(){this.preBuild();let e=document.getElementById(`${this._view.id}`);if(null!=e){for(this.viewChild=this.build(),this.assembleViewData(this.viewChild,this.viewCache);e.firstChild;)e.removeChild(e.firstChild);this.viewChild instanceof View?e.appendChild(this.viewChild.view):this.viewChild instanceof Array&&this.viewChild.forEach((t=>{e.appendChild(t.view)})),this.postBuild(),this.assembleComplete()}}updateStyle(e){if(!this._view||!this._view.isConnected)return void console.warn("ViewはまだDOMにアタッチされていないか、デタッチされた後です。",this._view,this._view.isConnected);const t=new Set(["length","parentRule","cssText"]);for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const r=e[i];if(t.has(i))continue;void 0!==r&&(this._view.style[i]=r)}}assembleComplete(){this.onAssembleComplete(),this.viewChild instanceof View?this.viewChild.assembleComplete():this.viewChild instanceof Array&&this.viewChild.forEach((e=>{e&&e.assembleComplete()}))}onAssembleComplete(){}preBuild(){}postBuild(){}initialize(){}terminate(){}onDispose(){}dispose(){this.viewChild instanceof View&&this.viewChild.dispose(),this.viewChild instanceof Array&&this.viewChild.forEach((e=>{e.dispose()})),this.onDispose()}assembleViewData(e,t){e instanceof Array?this.assembleMultiView(e,t):e instanceof View?this.assembleSingleView(e,t):this._view=t,this.attributeId(),this.attributeViewNameToDataset()}assembleSingleView(e,t){e.assemble(),t.appendChild(e.view),this._view=t}assembleMultiView(e,t){e.forEach((e=>{e&&(e.assemble(),t.appendChild(e.view))})),this._view=t}attributeId(){this._view.id=this.id}attributeViewNameToDataset(){this._view.dataset.viewClassName=this.constructor.name}addPseudoElement(){this.viewChild instanceof View&&this.viewChild.addPseudoElement(),this.viewChild instanceof Array&&this.viewChild.forEach((e=>{e.addPseudoElement()}));let e=this.createBeforeElement(),t=this.createAfterElement();e&&(this.checkHTMLElement(e,"createBeforeElement"),this.view.before(e)),t&&(this.checkHTMLElement(t,"createAfterElement"),this.view.after(t))}createBeforeElement(){return null}createAfterElement(){return null}onRendered(){}_rendered(){this.viewChild instanceof View&&this.viewChild._rendered(),this.viewChild instanceof Array&&this.viewChild.forEach((e=>{e._rendered()})),this.onRendered()}getBuildCompletionState(){return this._isViewBuilt}_log(e){this.isLogOut&&console.log("["+this.constructor.name+"] "+e)}}class ProviderObserver{constructor(){return ProviderObserver.instance||(ProviderObserver.instance=this,this.dependencyGraph=new Map,this.updateHistory=[]),ProviderObserver.instance}outLogs(e=!0){this._isOutedLog=e}addDependency(e,t){this.dependencyGraph.has(e)||this.dependencyGraph.set(e,new Set),this.dependencyGraph.get(e).add(t),this.log(`Dependency added: ${this._getProviderInfo(e)} depends on ${this._getProviderInfo(t)}`)}deleteDependency(e,t){this.dependencyGraph.has(e)&&this.dependencyGraph.get(e).delete(t),this.log(`Dependency deleted: ${this._getProviderInfo(e)} unsubscribed ${this._getProviderInfo(t)}`)}_isLargeObject(e,t=10240){try{return new Blob([e]).size>t}catch(e){return console.error("オブジェクトの解析中にエラーが発生しました:",e),!0}}logUpdate(e,t,i){t=t&&t.props&&t.id?`${t.constructor.name}__viewId:${t.id}`:t,i=i&&i.props&&i.id?`${i.constructor.name}__viewId:${i.id}`:i,this._isLargeObject(t)&&(t="Large Object (simplified)"),this._isLargeObject(i)&&(i="Large Object (simplified)");const r={timestamp:new Date,provider:e.name,oldValue:t,newValue:i,stackTrace:this._getStackTrace()};this.updateHistory.push(r),this.log(`Update: ${r.provider} changed from ${JSON.stringify(t)} to ${JSON.stringify(i)}`)}getDependencyGraph(){const e={};return this.dependencyGraph.forEach(((t,i)=>{e[this._getProviderInfo(i)]=Array.from(t).map((e=>this._getProviderInfo(e)))})),e}getAllUpdateHistory(){return this.updateHistory}getFilteredUpdateHistory(e){return this.updateHistory.filter((t=>t.provider===this._getProviderInfo(e)))}_getProviderInfo(e){return e.name}_getStackTrace(){const e=(new Error).stack.toString();return e.substr(13,e.length)}log(e,t=null){if(!this._isOutedLog)return;const i=`[ProviderObserver] ${e}`;t?console.log(i,JSON.stringify(t,null,2)):console.log(i)}static clearInstance(){ProviderObserver.instance=null}}class Provider{constructor(e){this._dependencies=new Map,this._listeners=new Set,this._core=new ProviderCore(e)}static createProvider(e,t=null){let i=new Provider(e);return i._setName(t),i}_setName(e){this.name=e||Math.random().toString(36).substr(2,9)}read(){if(!this._core.isInitialized){const e=this._createRef();this._core.value=this._core.create(e),this._core.isInitialized=!0}return this._core.value}watch(e,{immediate:t=!0}={}){return this._listeners.add(e),t&&e(this.read()),()=>{this._listeners.delete(e)}}update(e){const t=this.read(),i=e(t);(new ProviderObserver).logUpdate(this,t,i),this._core.value=i,this._notifyListeners(i)}_notifyListeners(e){this._listeners.forEach((t=>t(e)))}_createRef(){const e=new ProviderObserver;return{read:e=>e.read(),update:t=>{const i=this.read();this.update(t);const r=this.read();e.logUpdate(this,i,r)},watch:(t,i)=>{e.addDependency(this,t),this._dependencies.set(t,new Dependency(t,this,i))}}}unsubscribedDependency(e){const t=new ProviderObserver;this._dependencies[e].unsubscribedParent(),this._dependencies.delete(e),t.deleteDependency(this.parentProvider)}}class ProviderCore{constructor(e){this.create=e,this.value=null,this.isInitialized=!1}}class Dependency{constructor(e,t,i){this.parentProvider=e,this.provider=t,this._listenParent(i)}printDependency(){console.log(this.provider+" depends on "+this.parentProvider)}_listenParent(e){this._unsubscribed=this.parentProvider.watch((t=>{this.provider.update((()=>e(t)))}),{immediate:!1})}unsubscribedParent(){this._unsubscribed()}}class ProviderScope extends View{constructor({watchingProviders:e=[]}){super(),this.providers=e,this._iterateProviders()}_iterateProviders(){this.providers.forEach((e=>{this._watch(e)}))}_watch(e){e.watch((()=>{this.rebuild()}),{immediate:!1})}}class LimitedProviderScope extends ProviderScope{constructor({watchingProviders:e=[],builder:t=()=>{}}){this.providers=e,this.builder=t,super({watchingProviders:providers})}build(){const e=this.providers.map((e=>e.read()));return this.builder(e)}postBuild(){this.onPostBuild()}onPostBuild(){}preBuild(){this.onPreBuild()}onPreBuild(){}}class ShadowLevel{static LVL0=new ShadowLevel("none");static LVL1=new ShadowLevel("0px 0px 4px rgba(0,0,0,0.1)");static LVL2=new ShadowLevel("0px 0px 8px rgba(0,0,0,0.12)");static LVL3=new ShadowLevel("0px 0px 16px rgba(0,0,0,0.14)");static LVL4=new ShadowLevel("0px 0px 24px rgba(0,0,0,0.16)");static LVL5=new ShadowLevel("0px 0px 32px rgba(0,0,0,0.18)");static LVL6=new ShadowLevel("0px 0px 40px rgba(0,0,0,0.20)");static LVL7=new ShadowLevel("0px 0px 48px rgba(0,0,0,0.22)");static LVL8=new ShadowLevel("0px 0px 56px rgba(0,0,0,0.24)");static LVL9=new ShadowLevel("0px 0px 64px rgba(0,0,0,0.26)");static LVL10=new ShadowLevel("0px 0px 72px rgba(0,0,0,0.28)");constructor(e){this.value=e}toString(){return this.value}}class BaseCSS{#e={};constructor({width:e=null,height:t=null,margin:i=null,padding:r=null,borderCSS:s=null}={}){this.#e={width:e,height:t,margin:i,padding:r,borderCSS:s}}applyCSS(e){return this.#e.width&&(e.style.width=this.#e.width),this.#e.height&&(e.style.height=this.#e.height),this.#e.margin&&(e.style.margin=this.#e.margin),this.#e.padding&&(e.style.padding=this.#e.padding),this.#e.borderCSS&&(e=this.#e.borderCSS.applyCSS(e)),e}get width(){return this.#e.width}get height(){return this.#e.height}get margin(){return this.#e.margin}get padding(){return this.#e.padding}get assembledBorder(){return this.#e.assembledBorder}}class WebkitCSS{#e={};constructor({webkitTransform:e=null,webkitTransformOrigin:t=null,webkitTransformStyle:i=null,webkitTransition:r=null,webkitTransitionDelay:s=null,webkitTransitionDuration:o=null,webkitTransitionProperty:n=null,webkitTransitionTimingFunction:l=null,webkitAnimation:a=null,webkitAnimationDelay:h=null,webkitAnimationDirection:d=null,webkitAnimationDuration:p=null,webkitAnimationFillMode:w=null,webkitAnimationIterationCount:c=null,webkitAnimationName:u=null,webkitAnimationPlayState:b=null,webkitAnimationTimingFunction:k=null,webkitFlex:S=null,webkitFlexBasis:g=null,webkitFlexDirection:y=null,webkitFlexFlow:m=null,webkitFlexGrow:x=null,webkitFlexShrink:C=null,webkitFlexWrap:v=null,webkitJustifyContent:f=null,webkitAlignItems:P=null,webkitAlignContent:B=null,webkitAlignSelf:T=null,webkitOrder:V=null,webkitBoxSizing:L=null,webkitBoxShadow:A=null,webkitBoxReflect:E=null,webkitBoxPack:M=null,webkitBoxAlign:R=null,webkitBoxFlex:F=null,webkitBoxFlexGroup:_=null,webkitBoxLines:O=null,webkitBoxOrdinalGroup:I=null,webkitBoxOrient:D=null,webkitBoxDirection:W=null,webkitFontSmoothing:H=null,webkitTextSizeAdjust:U=null,webkitTextFillColor:$=null,webkitTextStroke:z=null,webkitTextStrokeColor:G=null,webkitTextStrokeWidth:N=null,webkitBackgroundClip:X=null,webkitTextSecurity:j=null,webkitLineClamp:Y=null,webkitLineBreak:J=null,webkitAppearance:Z=null,webkitFilter:q=null,webkitBackdropFilter:K=null,webkitUserSelect:Q=null,webkitUserDrag:ee=null,webkitUserModify:te=null,webkitTouchCallout:ie=null,webkitOverflowScrolling:re=null,webkitMaskImage:se=null,webkitMaskSize:oe=null,webkitMaskPosition:ne=null,webkitMaskRepeat:le=null,webkitMaskOrigin:ae=null,webkitMaskClip:he=null,webkitMaskComposite:de=null,webkitPerspective:pe=null,webkitPerspectiveOrigin:we=null,webkitBackfaceVisibility:ce=null,webkitTapHighlightColor:ue=null,webkitHyphenateCharacter:be=null,webkitLocale:ke=null,webkitMarginBefore:Se=null,webkitMarginAfter:ge=null,webkitMarginStart:ye=null,webkitMarginEnd:me=null,webkitPaddingBefore:xe=null,webkitPaddingAfter:Ce=null,webkitPaddingStart:ve=null,webkitPaddingEnd:fe=null,webkitBorderStart:Pe=null,webkitBorderEnd:Be=null,webkitBorderBefore:Te=null,webkitBorderAfter:Ve=null,webkitBorderStartWidth:Le=null,webkitBorderEndWidth:Ae=null,webkitBorderBeforeWidth:Ee=null,webkitBorderAfterWidth:Me=null,webkitBorderStartColor:Re=null,webkitBorderEndColor:Fe=null,webkitBorderBeforeColor:_e=null,webkitBorderAfterColor:Oe=null,webkitBorderImage:Ie=null,webkitBorderRadius:De=null,webkitColumnCount:We=null,webkitColumnGap:He=null,webkitColumnRule:Ue=null,webkitColumnRuleColor:$e=null,webkitColumnRuleStyle:ze=null,webkitColumnRuleWidth:Ge=null,webkitColumnSpan:Ne=null,webkitColumnWidth:Xe=null,webkitColumns:je=null,webkitShapeOutside:Ye=null,webkitShapeImageThreshold:Je=null,webkitShapeMargin:Ze=null}={}){this.#e={webkitTransform:e,webkitTransformOrigin:t,webkitTransformStyle:i,webkitTransition:r,webkitTransitionDelay:s,webkitTransitionDuration:o,webkitTransitionProperty:n,webkitTransitionTimingFunction:l,webkitAnimation:a,webkitAnimationDelay:h,webkitAnimationDirection:d,webkitAnimationDuration:p,webkitAnimationFillMode:w,webkitAnimationIterationCount:c,webkitAnimationName:u,webkitAnimationPlayState:b,webkitAnimationTimingFunction:k,webkitFlex:S,webkitFlexBasis:g,webkitFlexDirection:y,webkitFlexFlow:m,webkitFlexGrow:x,webkitFlexShrink:C,webkitFlexWrap:v,webkitJustifyContent:f,webkitAlignItems:P,webkitAlignContent:B,webkitAlignSelf:T,webkitOrder:V,webkitBoxSizing:L,webkitBoxShadow:A,webkitBoxReflect:E,webkitBoxPack:M,webkitBoxAlign:R,webkitBoxFlex:F,webkitBoxFlexGroup:_,webkitBoxLines:O,webkitBoxOrdinalGroup:I,webkitBoxOrient:D,webkitBoxDirection:W,webkitFontSmoothing:H,webkitTextSizeAdjust:U,webkitTextFillColor:$,webkitTextStroke:z,webkitTextStrokeColor:G,webkitTextStrokeWidth:N,webkitBackgroundClip:X,webkitTextSecurity:j,webkitLineClamp:Y,webkitLineBreak:J,webkitAppearance:Z,webkitFilter:q,webkitBackdropFilter:K,webkitUserSelect:Q,webkitUserDrag:ee,webkitUserModify:te,webkitTouchCallout:ie,webkitOverflowScrolling:re,webkitMaskImage:se,webkitMaskSize:oe,webkitMaskPosition:ne,webkitMaskRepeat:le,webkitMaskOrigin:ae,webkitMaskClip:he,webkitMaskComposite:de,webkitPerspective:pe,webkitPerspectiveOrigin:we,webkitBackfaceVisibility:ce,webkitTapHighlightColor:ue,webkitHyphenateCharacter:be,webkitLocale:ke,webkitMarginBefore:Se,webkitMarginAfter:ge,webkitMarginStart:ye,webkitMarginEnd:me,webkitPaddingBefore:xe,webkitPaddingAfter:Ce,webkitPaddingStart:ve,webkitPaddingEnd:fe,webkitBorderStart:Pe,webkitBorderEnd:Be,webkitBorderBefore:Te,webkitBorderAfter:Ve,webkitBorderStartWidth:Le,webkitBorderEndWidth:Ae,webkitBorderBeforeWidth:Ee,webkitBorderAfterWidth:Me,webkitBorderStartColor:Re,webkitBorderEndColor:Fe,webkitBorderBeforeColor:_e,webkitBorderAfterColor:Oe,webkitBorderImage:Ie,webkitBorderRadius:De,webkitColumnCount:We,webkitColumnGap:He,webkitColumnRule:Ue,webkitColumnRuleColor:$e,webkitColumnRuleStyle:ze,webkitColumnRuleWidth:Ge,webkitColumnSpan:Ne,webkitColumnWidth:Xe,webkitColumns:je,webkitShapeOutside:Ye,webkitShapeImageThreshold:Je,webkitShapeMargin:Ze}}applyCSS(e){return this.#e.webkitTransform&&(e.style.webkitTransform=this.#e.webkitTransform),this.#e.webkitTransformOrigin&&(e.style.webkitTransformOrigin=this.#e.webkitTransformOrigin),this.#e.webkitTransformStyle&&(e.style.webkitTransformStyle=this.#e.webkitTransformStyle),this.#e.webkitTransition&&(e.style.webkitTransition=this.#e.webkitTransition),this.#e.webkitTransitionDelay&&(e.style.webkitTransitionDelay=this.#e.webkitTransitionDelay),this.#e.webkitTransitionDuration&&(e.style.webkitTransitionDuration=this.#e.webkitTransitionDuration),this.#e.webkitTransitionProperty&&(e.style.webkitTransitionProperty=this.#e.webkitTransitionProperty),this.#e.webkitTransitionTimingFunction&&(e.style.webkitTransitionTimingFunction=this.#e.webkitTransitionTimingFunction),this.#e.webkitAnimation&&(e.style.webkitAnimation=this.#e.webkitAnimation),this.#e.webkitAnimationDelay&&(e.style.webkitAnimationDelay=this.#e.webkitAnimationDelay),this.#e.webkitAnimationDirection&&(e.style.webkitAnimationDirection=this.#e.webkitAnimationDirection),this.#e.webkitAnimationDuration&&(e.style.webkitAnimationDuration=this.#e.webkitAnimationDuration),this.#e.webkitAnimationFillMode&&(e.style.webkitAnimationFillMode=this.#e.webkitAnimationFillMode),this.#e.webkitAnimationIterationCount&&(e.style.webkitAnimationIterationCount=this.#e.webkitAnimationIterationCount),this.#e.webkitAnimationName&&(e.style.webkitAnimationName=this.#e.webkitAnimationName),this.#e.webkitAnimationPlayState&&(e.style.webkitAnimationPlayState=this.#e.webkitAnimationPlayState),this.#e.webkitAnimationTimingFunction&&(e.style.webkitAnimationTimingFunction=this.#e.webkitAnimationTimingFunction),this.#e.webkitFlex&&(e.style.webkitFlex=this.#e.webkitFlex),this.#e.webkitFlexBasis&&(e.style.webkitFlexBasis=this.#e.webkitFlexBasis),this.#e.webkitFlexDirection&&(e.style.webkitFlexDirection=this.#e.webkitFlexDirection),this.#e.webkitFlexFlow&&(e.style.webkitFlexFlow=this.#e.webkitFlexFlow),this.#e.webkitFlexGrow&&(e.style.webkitFlexGrow=this.#e.webkitFlexGrow),this.#e.webkitFlexShrink&&(e.style.webkitFlexShrink=this.#e.webkitFlexShrink),this.#e.webkitFlexWrap&&(e.style.webkitFlexWrap=this.#e.webkitFlexWrap),this.#e.webkitJustifyContent&&(e.style.webkitJustifyContent=this.#e.webkitJustifyContent),this.#e.webkitAlignItems&&(e.style.webkitAlignItems=this.#e.webkitAlignItems),this.#e.webkitAlignContent&&(e.style.webkitAlignContent=this.#e.webkitAlignContent),this.#e.webkitAlignSelf&&(e.style.webkitAlignSelf=this.#e.webkitAlignSelf),this.#e.webkitOrder&&(e.style.webkitOrder=this.#e.webkitOrder),this.#e.webkitBoxSizing&&(e.style.webkitBoxSizing=this.#e.webkitBoxSizing),this.#e.webkitBoxShadow&&(e.style.webkitBoxShadow=this.#e.webkitBoxShadow),this.#e.webkitBoxReflect&&(e.style.webkitBoxReflect=this.#e.webkitBoxReflect),this.#e.webkitBoxPack&&(e.style.webkitBoxPack=this.#e.webkitBoxPack),this.#e.webkitBoxAlign&&(e.style.webkitBoxAlign=this.#e.webkitBoxAlign),this.#e.webkitBoxFlex&&(e.style.webkitBoxFlex=this.#e.webkitBoxFlex),this.#e.webkitBoxFlexGroup&&(e.style.webkitBoxFlexGroup=this.#e.webkitBoxFlexGroup),this.#e.webkitBoxLines&&(e.style.webkitBoxLines=this.#e.webkitBoxLines),this.#e.webkitBoxOrdinalGroup&&(e.style.webkitBoxOrdinalGroup=this.#e.webkitBoxOrdinalGroup),this.#e.webkitBoxOrient&&(e.style.webkitBoxOrient=this.#e.webkitBoxOrient),this.#e.webkitBoxDirection&&(e.style.webkitBoxDirection=this.#e.webkitBoxDirection),this.#e.webkitFontSmoothing&&(e.style.webkitFontSmoothing=this.#e.webkitFontSmoothing),this.#e.webkitTextSizeAdjust&&(e.style.webkitTextSizeAdjust=this.#e.webkitTextSizeAdjust),this.#e.webkitTextFillColor&&(e.style.webkitTextFillColor=this.#e.webkitTextFillColor),this.#e.webkitTextStroke&&(e.style.webkitTextStroke=this.#e.webkitTextStroke),this.#e.webkitTextStrokeColor&&(e.style.webkitTextStrokeColor=this.#e.webkitTextStrokeColor),this.#e.webkitTextStrokeWidth&&(e.style.webkitTextStrokeWidth=this.#e.webkitTextStrokeWidth),this.#e.webkitBackgroundClip&&(e.style.webkitBackgroundClip=this.#e.webkitBackgroundClip),this.#e.webkitTextSecurity&&(e.style.webkitTextSecurity=this.#e.webkitTextSecurity),this.#e.webkitLineClamp&&(e.style.webkitLineClamp=this.#e.webkitLineClamp),this.#e.webkitLineBreak&&(e.style.webkitLineBreak=this.#e.webkitLineBreak),this.#e.webkitAppearance&&(e.style.webkitAppearance=this.#e.webkitAppearance),this.#e.webkitFilter&&(e.style.webkitFilter=this.#e.webkitFilter),this.#e.webkitBackdropFilter&&(e.style.webkitBackdropFilter=this.#e.webkitBackdropFilter),this.#e.webkitUserSelect&&(e.style.webkitUserSelect=this.#e.webkitUserSelect),this.#e.webkitUserDrag&&(e.style.webkitUserDrag=this.#e.webkitUserDrag),this.#e.webkitUserModify&&(e.style.webkitUserModify=this.#e.webkitUserModify),this.#e.webkitTouchCallout&&(e.style.webkitTouchCallout=this.#e.webkitTouchCallout),this.#e.webkitOverflowScrolling&&(e.style.webkitOverflowScrolling=this.#e.webkitOverflowScrolling),this.#e.webkitMaskImage&&(e.style.webkitMaskImage=this.#e.webkitMaskImage),this.#e.webkitMaskSize&&(e.style.webkitMaskSize=this.#e.webkitMaskSize),this.#e.webkitMaskPosition&&(e.style.webkitMaskPosition=this.#e.webkitMaskPosition),this.#e.webkitMaskRepeat&&(e.style.webkitMaskRepeat=this.#e.webkitMaskRepeat),this.#e.webkitMaskOrigin&&(e.style.webkitMaskOrigin=this.#e.webkitMaskOrigin),this.#e.webkitMaskClip&&(e.style.webkitMaskClip=this.#e.webkitMaskClip),this.#e.webkitMaskComposite&&(e.style.webkitMaskComposite=this.#e.webkitMaskComposite),this.#e.webkitPerspective&&(e.style.webkitPerspective=this.#e.webkitPerspective),this.#e.webkitPerspectiveOrigin&&(e.style.webkitPerspectiveOrigin=this.#e.webkitPerspectiveOrigin),this.#e.webkitBackfaceVisibility&&(e.style.webkitBackfaceVisibility=this.#e.webkitBackfaceVisibility),this.#e.webkitTapHighlightColor&&(e.style.webkitTapHighlightColor=this.#e.webkitTapHighlightColor),this.#e.webkitHyphenateCharacter&&(e.style.webkitHyphenateCharacter=this.#e.webkitHyphenateCharacter),this.#e.webkitLocale&&(e.style.webkitLocale=this.#e.webkitLocale),this.#e.webkitMarginBefore&&(e.style.webkitMarginBefore=this.#e.webkitMarginBefore),this.#e.webkitMarginAfter&&(e.style.webkitMarginAfter=this.#e.webkitMarginAfter),this.#e.webkitMarginStart&&(e.style.webkitMarginStart=this.#e.webkitMarginStart),this.#e.webkitMarginEnd&&(e.style.webkitMarginEnd=this.#e.webkitMarginEnd),this.#e.webkitPaddingBefore&&(e.style.webkitPaddingBefore=this.#e.webkitPaddingBefore),this.#e.webkitPaddingAfter&&(e.style.webkitPaddingAfter=this.#e.webkitPaddingAfter),this.#e.webkitPaddingStart&&(e.style.webkitPaddingStart=this.#e.webkitPaddingStart),this.#e.webkitPaddingEnd&&(e.style.webkitPaddingEnd=this.#e.webkitPaddingEnd),this.#e.webkitBorderStart&&(e.style.webkitBorderStart=this.#e.webkitBorderStart),this.#e.webkitBorderEnd&&(e.style.webkitBorderEnd=this.#e.webkitBorderEnd),this.#e.webkitBorderBefore&&(e.style.webkitBorderBefore=this.#e.webkitBorderBefore),this.#e.webkitBorderAfter&&(e.style.webkitBorderAfter=this.#e.webkitBorderAfter),this.#e.webkitBorderStartWidth&&(e.style.webkitBorderStartWidth=this.#e.webkitBorderStartWidth),this.#e.webkitBorderEndWidth&&(e.style.webkitBorderEndWidth=this.#e.webkitBorderEndWidth),this.#e.webkitBorderBeforeWidth&&(e.style.webkitBorderBeforeWidth=this.#e.webkitBorderBeforeWidth),this.#e.webkitBorderAfterWidth&&(e.style.webkitBorderAfterWidth=this.#e.webkitBorderAfterWidth),this.#e.webkitBorderStartColor&&(e.style.webkitBorderStartColor=this.#e.webkitBorderStartColor),this.#e.webkitBorderEndColor&&(e.style.webkitBorderEndColor=this.#e.webkitBorderEndColor),this.#e.webkitBorderBeforeColor&&(e.style.webkitBorderBeforeColor=this.#e.webkitBorderBeforeColor),this.#e.webkitBorderAfterColor&&(e.style.webkitBorderAfterColor=this.#e.webkitBorderAfterColor),this.#e.webkitBorderImage&&(e.style.webkitBorderImage=this.#e.webkitBorderImage),this.#e.webkitBorderRadius&&(e.style.webkitBorderRadius=this.#e.webkitBorderRadius),this.#e.webkitColumnCount&&(e.style.webkitColumnCount=this.#e.webkitColumnCount),this.#e.webkitColumnGap&&(e.style.webkitColumnGap=this.#e.webkitColumnGap),this.#e.webkitColumnRule&&(e.style.webkitColumnRule=this.#e.webkitColumnRule),this.#e.webkitColumnRuleColor&&(e.style.webkitColumnRuleColor=this.#e.webkitColumnRuleColor),this.#e.webkitColumnRuleStyle&&(e.style.webkitColumnRuleStyle=this.#e.webkitColumnRuleStyle),this.#e.webkitColumnRuleWidth&&(e.style.webkitColumnRuleWidth=this.#e.webkitColumnRuleWidth),this.#e.webkitColumnSpan&&(e.style.webkitColumnSpan=this.#e.webkitColumnSpan),this.#e.webkitColumnWidth&&(e.style.webkitColumnWidth=this.#e.webkitColumnWidth),this.#e.webkitColumns&&(e.style.webkitColumns=this.#e.webkitColumns),this.#e.webkitShapeOutside&&(e.style.webkitShapeOutside=this.#e.webkitShapeOutside),this.#e.webkitShapeImageThreshold&&(e.style.webkitShapeImageThreshold=this.#e.webkitShapeImageThreshold),this.#e.webkitShapeMargin&&(e.style.webkitShapeMargin=this.#e.webkitShapeMargin),e}}class Card extends View{constructor({child:e,radius:t="inherit",baseCSS:i=new BaseCSS({width:"inherit",height:"inherit"}),background:r=null,elevation:s=ShadowLevel.LVL0,webkitCSS:o=new WebkitCSS}){if(!(s instanceof ShadowLevel))throw TypeError("CardコンポーネントのElevationプロパティには、ShadowLevelクラスのみ受け付けています。\n渡された型:"+typeof s);if(!(o instanceof WebkitCSS))throw TypeError("CardコンポーネントのwebkitCSSプロパティには、WebkitCSSクラスのみ受け付けています。\n渡された型:"+typeof s);super(),this.child=e,this.radius=t,this.baseCSS=i,this.background=r,this.elevation=s,this.webkitCSS=o}styledView(e){return e.style.borderRadius=this.radius,this.background&&(e.style.background=this.background),e.style.boxShadow=this.elevation,e=this.baseCSS.applyCSS(e),e=this.webkitCSS.applyCSS(e)}build(){return this.child}}class Center extends View{constructor(e){super(),this.child=e}styledView(e){return e.style.width="100%",e.style.height="100%",e.style.textAlign="center",e.style.justifyContent="center",e.style.display="flex",e.style.alignItems="center",e.style.borderRadius="inherit",e}build(){return new _Center(this.child)}}class _Center extends View{constructor(e){super(),this.child=e}styledView(e){return e.style.width="fit-content",e.style.height="fit-content",e.style.margin="auto",e.style.borderRadius="inherit",e}build(){return this.child}}class Column extends View{constructor({children:e,baseCSS:t=new BaseCSS,isHorizontalCenter:i=!1}){super(),this.children=e,this.baseCSS=t,this.isHorizontalCenter=i}styledView(e){return e.style.display="flex",e.style.flexDirection="column",this.isHorizontalCenter&&(e.style.alignItems="center"),e=this.baseCSS.applyCSS(e)}build(){return this.children}}class Padding extends View{constructor({child:e,all:t,top:i="0px",right:r="0px",bottom:s="0px",left:o="0px"}){void 0!==t&&(i=r=s=o=t);const validatePadding=(e,t)=>{if(!/^(?:(\d+(\.\d+)?)(px|rem|em|%|vh|vw)|initial)$/.test(e))throw TypeError(`Paddingコンポーネントの${t}プロパティには、有効なCSSの長さ単位が必要です。\n渡された値: ${e}`)};validatePadding(i,"top"),validatePadding(r,"right"),validatePadding(s,"bottom"),validatePadding(o,"left"),super(),this.child=e,this.padding={top:i,right:r,bottom:s,left:o}}styledView(e){return this.child.view.style.paddingTop=this.padding.top,this.child.view.style.paddingRight=this.padding.right,this.child.view.style.paddingBottom=this.padding.bottom,this.child.view.style.paddingLeft=this.padding.left,e}build(){return this.child}}class _PositionChild extends View{constructor({child:e,top:t=0,left:i=0}){super(),this.child=e,this.top=t,this.left=i}styledView(e){return e.className="pos-wrapper",e.style.width="100%",e.style.height="100%",e.style.position="relative",e.className="pos",e.style.top=this.top+"px",e.style.left=this.left+"px",e}build(){return this.child}}class Row extends View{constructor({children:e,baseCSS:t=new BaseCSS,isAlignCenter:i=!1,isJustifySpaceAround:r=!1,isJustifySpaceBetween:s=!1,isVerticalCenter:o=!1}){super(),this.children=e,this.baseCSS=t,this.isAlignCenter=i,this.isJustifySpaceAround=r,this.isJustifySpaceBetween=s,this.isVerticalCenter=o}styledView(e){return e.className="row-container",e.style.display="flex",this.isAlignCenter&&(e.style.justifyContent="center"),this.isJustifySpaceAround&&(e.style.justifyContent="space-around"),this.isJustifySpaceBetween&&(e.style.justifyContent="space-between"),this.isVerticalCenter&&(e.style.alignItems="center"),e=this.baseCSS.applyCSS(e)}build(){return this.children}}class SpaceBox extends View{constructor({width:e="0px",height:t="0px"}={}){super(),this.width=e,this.height=t}styledView(e){return e.style.width=this.width,e.style.height=this.height,e}}class FontCSS{#e={};constructor({color:e=null,fontStyle:t=null,fontWeight:i=null,fontSize:r=null,lineHeight:s=null,fontFamily:o=null}={}){this.#e={color:e,fontStyle:t,fontWeight:i,fontSize:r,lineHeight:s,fontFamily:o}}applyCSS(e){return this.#e.color&&(e.style.color=this.#e.color),this.#e.fontStyle&&(e.style.fontStyle=this.#e.fontStyle),this.#e.fontWeight&&(e.style.fontWeight=this.#e.fontWeight),this.#e.fontSize&&(e.style.fontSize=this.#e.fontSize),this.#e.lineHeight&&(e.style.lineHeight=this.#e.lineHeight),this.#e.fontFamily&&(e.style.fontFamily=this.#e.fontFamily),e}}class TextCSS{#e={};constructor({fontCSS:e=new FontCSS,letterSpacing:t=null,textAlign:i=null,textAlignLast:r=null,textIndent:s=null,textTransform:o=null,lineBreak:n=null,textOverflow:l=null,textWrap:a=null,wordBreak:h=null,textDecoration:d=null,textEmphasis:p=null,textShadow:w=null,writingMode:c=null,textCombineUpright:u=null,textOrientation:b=null,webkitCSS:k=new WebkitCSS}={}){this.#e={fontCSS:e,letterSpacing:t,textAlign:i,textAlignLast:r,textIndent:s,textTransform:o,lineBreak:n,textOverflow:l,textWrap:a,wordBreak:h,textDecoration:d,textEmphasis:p,textShadow:w,writingMode:c,textCombineUpright:u,textOrientation:b,webkitCSS:k}}applyCSS(e){return this.#e.letterSpacing&&(e.style.letterSpacing=this.#e.letterSpacing),this.#e.textAlign&&(e.style.textAlign=this.#e.textAlign),this.#e.textAlignLast&&(e.style.textAlignLast=this.#e.textAlignLast),this.#e.textIndent&&(e.style.textIndent=this.#e.textIndent),this.#e.textTransform&&(e.style.textTransform=this.#e.textTransform),this.#e.lineBreak&&(e.style.lineBreak=this.#e.lineBreak),this.#e.textOverflow&&(e.style.textOverflow=this.#e.textOverflow),this.#e.textWrap&&(e.style.textWrap=this.#e.textWrap),this.#e.wordBreak&&(e.style.wordBreak=this.#e.wordBreak),this.#e.textDecoration&&(e.style.textDecoration=this.#e.textDecoration),this.#e.textEmphasis&&(e.style.textEmphasis=this.#e.textEmphasis),this.#e.textShadow&&(e.style.textShadow=this.#e.textShadow),this.#e.writingMode&&(e.style.writingMode=this.#e.writingMode),this.#e.textCombineUpright&&(e.style.textCombineUpright=this.#e.textCombineUpright),this.#e.textOrientation&&(e.style.textOrientation=this.#e.textOrientation),this.#e.fontCSS&&this.#e.fontCSS.applyCSS(e),this.#e.webkitCSS&&this.#e.webkitCSS.applyCSS(e),e}}class Text extends View{constructor(e,t=new TextCSS){super(),this.text=e,this.textCSS=t}createWrapView(){return document.createElement("p")}styledView(e){return e.textContent=this.text,e.style.margin="0",e=this.textCSS.applyCSS(e),this.textCSS.webkitCSS&&(e=this.textCSS.webkitCSS.applyCSS(e)),e}}class BorderCSS{constructor({borderSize:e="0px",borderProperty:t="solid",color:i="transparent",radius:r=null,isTop:s=!0,isLeft:o=!0,isRight:n=!0,isBottom:l=!0}={}){this.borderSize=e,this.borderProperty=t,this.color=i,this.radius=r,this.isTop=s,this.isLeft=o,this.isRight=n,this.isBottom=l}_assembleCSS(){return this.borderSize+" "+this.borderProperty+" "+this.color}applyCSS(e){const t=this._assembleCSS();return this.isTop&&(e.style.borderTop=t),this.isRight&&(e.style.borderRight=t),this.isBottom&&(e.style.borderBottom=t),this.isLeft&&(e.style.borderLeft=t),this.radius&&(e.style.borderRadius=this.radius),e}}class Hover extends View{constructor({child:e,radius:t="inherit",shadow:i=ShadowLevel.LVL5,onClickEffect:r=!1}){super(),this.child=e,this.radius=t,this.shadow=i,this.onClickEffect=r}styledView(e){return e.style.width="fit-content",e.style.height="fit-content",e.style.position="relative",e.style.borderRadius=this.radius,e}build(){return new Row({baseCSS:new BaseCSS({borderCSS:new BorderCSS({radius:"inherit"})}),children:[this.child,new _HoverWrapper(this.props)]})}}class _HoverWrapper extends View{constructor({radius:e="inherit",onClickEffect:t=!1}){super({radius:e,onClickEffect:t})}styledView(e){return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.background="rgb(0, 0, 0, 0)",e.style.overflow="hidden",e.style.zIndex=998,e.style.borderRadius=this.radius,e}build(){return new _Hover(this.props)}}class _Hover extends View{constructor({radius:e="inherit",onClickEffect:t=!1}){super({radius:e,onClickEffect:t})}styledView(e){return e.style.width="100%",e.style.height="100%",e.style.background="rgb(0, 0, 0, 0)",e.style.mixBlendMode="difference",e.style.transition="background-color 0.4s",e.style.zIndex=999,e.style.borderRadius=this.radius,e}embedScriptToView(e){return e.addEventListener("mouseenter",(()=>{e.style.background="rgb(100, 100, 100, 0.4)"})),e.addEventListener("mouseleave",(()=>{e.style.background="rgb(0, 0, 0, 0)"})),this.onClickEffect?(e.addEventListener("click",(t=>{const i=e.getElementsByClassName("ripple");Array.from(i).forEach((e=>e.remove()));const r=document.createElement("div");r.classList.add("ripple"),r.style.position="absolute",r.style.transform="scale(0)",r.style.animation="",r.style.pointerEvents="none",r.style.background="rgba(200, 200, 200, 0.9)",r.style.borderRadius="50%",r.style.mixBlendMode="difference";const s=e.getBoundingClientRect(),o=t.clientX-s.left,n=t.clientY-s.top,l=e.offsetWidth,a=e.offsetHeight,h=Math.sqrt(l*l+a*a);r.style.width=r.style.height=2*h+"px",r.style.left=o-h+"px",r.style.top=n-h+"px",e.appendChild(r),r.animate([{transform:"scale(1)",opacity:"0"}],{duration:600,easing:"ease-in-out"}),setTimeout((()=>r.remove()),600)})),e):e}}class ElevatedButton extends View{constructor({child:e,radius:t="inherit",baseCSS:i=new BaseCSS,onClick:r=()=>{}}){super(),this.child=e,this.radius=t,this.baseCSS=i,this.onClick=r}styledView(e){return e.style.borderRadius=this.radius,(e=this.baseCSS.applyCSS(e)).style.padding="0px",e}embedScriptToView(e){return e.addEventListener("click",this.onClick),e}build(){return new Center(new Hover({radius:this.radius,onClickEffect:!0,child:new Padding({all:this.baseCSS.padding??"initial",child:new _ElevatedButton(this.props)})}))}}class _ElevatedButton extends View{constructor({child:e,baseCSS:t,onClick:i=()=>{}}){super(),this.child=e,this.baseCSS=t,this.onClick=i}styledView(e){return e.style.borderRadius="inherit",e.style.width=this.baseCSS.width,e.style.height=this.baseCSS.height,e}build(){return this.child}}class _FlotingActionButton extends View{constructor(e){super(),this.onClick=e}styledView(e){return e.style.width="64px",e.style.height="64px",e.style.boxShadow=ShadowLevel.LVL4,e.style.borderRadius="1024px",e}build(){return new ElevatedButton({onClick:this.onClick,baseCSS:new BaseCSS({width:"64px",height:"64px"}),radius:"1024px",child:new Center(new Text("+"))})}}class Shrink extends View{constructor(e){super(),this.child=e}styledView(e){return e.style.width="0px",e.style.height="0px",e.style.overflow="hidden",e}build(){return this.child}}class _RelativePosition extends View{constructor({child:e,relativePositions:t}){super(),this.child=e,this.relativePositions=t}styledView(e){return e.style.width="fit-content",e.style.height="fit-content",(e=this.relativePositions.applyCSS(e)).style.borderRadius="inherit",e}build(){return this.child}}class AccordionItem extends View{constructor({title:e,content:t,radius:i,shadowLevel:r,baseCSS:s=new BaseCSS({padding:"4px"})}){super(),this.title=e,this.content=t,this.radius=i,this.shadowLevel=r,this.isExpanded=Provider.createProvider((()=>!1),`AccordionItem_isExpanded_${generateUUID()}`),this.baseCSS=s}styledView(e){return e=this.baseCSS.applyCSS(e)}build(){return new Card({radius:this.radius,elevation:this.shadowLevel,baseCSS:new BaseCSS({padding:"4px"}),child:new Column({children:[new Row({children:[new Text(this.title,new TextCSS({fontCSS:new FontCSS({fontWeight:"bold"})})),new SpaceBox({width:"8px"}),new LimitedProviderScope({watchingProviders:[this.isExpanded],build:e=>new Text(e[0]?"▲":"▼")})],isJustifySpaceBetween:!0,isVerticalCenter:!0}),new LimitedProviderScope({watchingProviders:[this.isExpanded],build:e=>e[0]?this.content:new Shrink(this.content)})]})})}embedScriptToView(e){return e.addEventListener("click",(()=>{this.isExpanded.update((e=>!e))})),e}}class PaginationItem extends View{constructor({page:e,label:t,isActive:i,onClick:r,currentPageProvider:s,itemStyle:o}){super({page:e,label:t,isActive:i,onClick:r,currentPageProvider:s,itemStyle:o})}createWrapView(){return document.createElement("li")}styledView(e){return e.style.margin="0 5px",e.style.padding="5px 10px",e.style.border="1px solid #ccc",e.style.borderRadius="5px",e.style.cursor="pointer",this.isActive&&(e.style.backgroundColor="#ccc"),(e=this.itemStyle.applyCSS(e)).textContent=this.label,e}embedScriptToView(e){return e.addEventListener("click",(()=>{this.onClick(this.page),this.currentPageProvider.update((()=>this.page))})),e}}class PaginationNavigationItem extends View{constructor({label:e,onClick:t=()=>{},currentPageProvider:i,isAddition:r=!0,isActive:s=!0}){super({label:e,onClick:t,currentPageProvider:i,isAddition:r,isActive:s})}createWrapView(){return document.createElement("li")}styledView(e){return e.style.margin="0 5px",e.style.padding="5px 10px",e.style.border="1px solid #ccc",e.style.borderRadius="5px",e.style.cursor="pointer",this.isActive||(e.style.backgroundColor="#ccc"),e.textContent=this.label,e}embedScriptToView(e){return e.addEventListener("click",(()=>{this.isActive&&(this.onClick(this.page),this.currentPageProvider.update((e=>this.isAddition?++e:--e)))})),e}}class Header extends View{constructor({child:e,isStickyHeader:t=!1}){super(),this.child=e,this.isStickyHeader=t}styledView(e){return this.isStickyHeader&&(e.style.position="sticky"),e.style.top="0",e.style.zIndex=999,e}build(){return this.child}}class _Pre extends View{constructor({code:e,language:t}){super(),this.code=e,this.language=t||"plaintext"}createWrapView(){return document.createElement("pre")}styledView(e){return e.style.whiteSpace="pre-wrap",e}build(){return new _Code(this.props)}}class _Code extends View{constructor({code:e,language:t}){super({code:e,language:t})}createWrapView(){return document.createElement("code")}styledView(e){return e.classList.add(`lang-${this.language}`),e.classList.add(`${this.language}`),e.innerHTML=this.code,e}}const e=Provider.createProvider((()=>"en"));class _RelativePositionAnimateSwitcher extends View{constructor({child:e,beginPosition:t,endPosition:i}){super(),this.child=e,this.beginPosition=t,this.endPosition=i}styledView(e){return e.style.width="fit-content",e.style.height="fit-content",(e=this.beginPosition.applyCSS(e)).style.borderRadius="inherit",e.style.transition="all 0.5s ease-in-out",e}build(){return this.child}animate(){let e=document.getElementById(this.id);e&&requestAnimationFrame((()=>{requestAnimationFrame((()=>{this.endPosition.applyCSS(e)}))}))}}class RelativePositions{static TOP=new RelativePositions("top");static TOP_RIGHT=new RelativePositions("top-right");static RIGHT=new RelativePositions("right");static BOTTOM_RIGHT=new RelativePositions("bottom-right");static BOTTOM=new RelativePositions("bottom");static BOTTOM_LEFT=new RelativePositions("bottom-left");static LEFT=new RelativePositions("left");static TOP_LEFT=new RelativePositions("top-left");static CENTER=new RelativePositions("center");constructor(e){this.value=e}applyCSS(e){switch(e.style.position="absolute",this.value){case"center":e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)";break;case"top":e.style.top="0",e.style.left="50%",e.style.transform="translateX(-50%)";break;case"top-right":e.style.top="0",e.style.right="0",e.style.transform="translate(0, 0)";break;case"right":e.style.top="50%",e.style.right="0",e.style.transform="translateY(-50%)";break;case"bottom-right":e.style.bottom="0",e.style.right="0",e.style.transform="translate(0, 0)";break;case"bottom":e.style.bottom="0",e.style.left="50%",e.style.transform="translateX(-50%)";break;case"bottom-left":e.style.bottom="0",e.style.left="0",e.style.transform="translate(0, 0)";break;case"left":e.style.top="50%",e.style.left="0",e.style.transform="translateY(-50%)";break;case"top-left":e.style.top="0",e.style.left="0",e.style.transform="translate(0, 0)";break;default:throw new Error("RelativePositions must created by static method, RelativePositions.TOP, RelativePositions.BOTTOM, RelativePositions.RIGHT, etc")}return e}}exports.Accordion=class extends View{constructor({items:e,radius:t="10px",shadowLevel:i=ShadowLevel.LVL2,baseCSS:r=new BaseCSS}){super(),this.items=e,this.radius=t,this.shadowLevel=i,this.baseCSS=r}build(){return this.items.map((e=>new AccordionItem({...e,radius:this.radius,shadowLevel:this.shadowLevel})))}},exports.AppRouter=class extends ProviderScope{constructor({routes:e,page404:t,homePage:i,startPageRoute:r=""}){super({watchingProviders:[Provider.createProvider((()=>window.location.hash.substring(1)||r),"currentPage__AppRouter")]}),this.routes=e,this.page404=t,this.homePage=i,this.startPageRoute=r,window.addEventListener("hashchange",(()=>{this.providers[0].update((()=>window.location.hash.substring(1)||r))}))}build(){const e=this.providers[0].read(),t=this.routes[e];return e?t?new t:this.page404:this.homePage}},exports.BaseCSS=BaseCSS,exports.BorderCSS=BorderCSS,exports.Box=class extends View{constructor({width:e="0px",height:t="0px",background:i=null,baseCSS:r=new BaseCSS,webkitCSS:s=new WebkitCSS,child:o=null}){super(),this.width=e,this.height=t,this.background=i,this.baseCSS=r,this.webkitCSS=s,this.child=o}styledView(e){return e.style.width=this.width,e.style.height=this.height,this.background&&(e.style.background=this.background),e=this.baseCSS.applyCSS(e),e=this.webkitCSS.applyCSS(e)}build(){return this.child}},exports.Card=Card,exports.Center=Center,exports.Chips=class extends View{constructor({text:e,background:t=null,borderCSS:i=new BorderCSS}){super(),this.text=e,this.background=t,this.borderCSS=i}styledView(e){return e.style.borderRadius="32px",e.style.paddingLeft="16px",e.style.paddingRight="16px",e.style.overflow="hidden",e.style.boxShadow=ShadowLevel.LVL3,this.background&&(e.style.background=this.background),e=this.borderCSS.applyCSS(e)}build(){return new Card({background:this.background??"transparent",child:new Text(this.text)})}},exports.Clip=class extends View{constructor({child:e,baseCSS:t=new BaseCSS}){super(),this.child=e,this.baseCSS=t}styledView(e){return(e=this.baseCSS.applyCSS(e)).style.overflow="hidden",e}build(){return this.child}},exports.CodeBlock=class extends View{constructor({code:e,language:t,showLineNumbers:i}){super(),this.code=e,this.language=t||"plaintext",this.showLineNumbers=i||!1}build(){return new _Pre({code:this.code,language:this.language})}},exports.Column=Column,exports.DropDownMenu=class extends View{constructor({item:e=[],baseCSS:t=new BaseCSS,provider:i}){super(),this.item=e,this.baseCSS=t,this.provider=i}createWrapView(){return document.createElement("select")}styledView(e){return e=this.baseCSS.applyCSS(e)}embedScriptToView(e){return e.addEventListener("change",(e=>{this.provider.update((()=>e.target.value))})),e}build(){return this.item}},exports.DropDownMenuItem=class extends View{constructor({text:e,value:t}){super(),this.text=e,this.value=t}createWrapView(){return document.createElement("option")}styledView(e){return e.textContent=this.text,e.value=this.value,e}},exports.DynamicProviderScope=class extends View{constructor({child:e}){super(),this.child=e,this.providers=[]}createProvider(e){let t=Provider.createProvider((()=>e));return this.providers.push(t),t}refreshProviders(){this.rebuild({props:this.props})}},exports.ElevatedButton=ElevatedButton,exports.ExpandsPanel=class extends View{constructor({titleItem:e,child:t,radius:i="10px",buttonShadowLevel:r=ShadowLevel.LVL3,panelItemBackGround:s="white"}){const o=Provider.createProvider((()=>!1),"isExpands__ExpandsPanel");super(),this.titleItem=e,this.child=t,this.radius=i,this.buttonShadowLevel=r,this.isExpands=o,this.panelItemBackGround=s}styledView(e){return e.style.width="100%",e}build(){return new Column({children:[new Row({isJustifySpaceBetween:!0,isVerticalCenter:!0,children:[this.titleItem,new SpaceBox({width:"8px"}),new Card({radius:this.radius,elevation:this.buttonShadowLevel,child:new ElevatedButton({baseCSS:new BaseCSS({padding:"8px"}),child:new LimitedProviderScope({watchingProviders:[this.isExpands],build:e=>{const t=e[0]?"∧":"∨";return new Text(t)}}),onClick:()=>{this.isExpands.update((e=>!e))}})})]}),new SpaceBox({height:"8px"}),new LimitedProviderScope({watchingProviders:[this.isExpands],build:e=>e[0]?this.child:new Shrink(this.child)})]})}},exports.FloatingActionButton=class extends View{constructor({onClick:e=()=>{}}={}){super(),this.onClick=e}styledView(e){return e.style.width="fit-content",e.style.height="fit-content",e}build(){return new _FlotingActionButton(this.onClick)}},exports.FontCSS=FontCSS,exports.Grid=class extends View{constructor({children:e,minmaxPX:t,fraction:i=1,gap:r="0px"}){super(),this.children=e,this.minmaxPX=t,this.fraction=i,this.gap=r}styledView(e){return e.style.display="grid",e.style.gridTemplateColumns="repeat(auto-fit, minmax("+this.minmaxPX+"px, "+this.fraction+"fr))",e.style.gap=this.gap,e}build(){return this.children}},exports.Header=Header,exports.Hover=Hover,exports.Image=class extends View{constructor({src:e="",alt:t="",title:i="",baseCSS:r=new BaseCSS,webkitCSS:s=new WebkitCSS}){super(),this.src=e,this.alt=t,this.title=i,this.baseCSS=r,this.webkitCSS=s}createWrapView(){return document.createElement("img")}styledView(e){return e=this.baseCSS.applyCSS(e),(e=this.webkitCSS.applyCSS(e)).src=this.src,e.alt=this.alt,e.title=this.title,e}},exports.LangSwitcher=class extends View{constructor({build:e=()=>{}}){super(),this.build=e}build(){return new LimitedProviderScope({watchingProviders:[e],build:e=>this.build(e[0])})}},exports.LimitedProviderScope=LimitedProviderScope,exports.Link=class extends View{constructor({child:e,href:t,rel:i=null,target:r=null,isDownload:s=!1,isShownUnderline:o=!0}){super(),this.child=e,this.href=t,this.rel=i,this.target=r,this.isDownload=s,this.isShownUnderline=o}createWrapView(){return document.createElement("a")}styledView(e){return e.href=this.href,this.isDownload&&(e.download="download"),this.rel&&(e.rel=this.rel),this.target&&(e.target=this.target),this.isShownUnderline||(e.style.textDecoration="none"),e}build(){return this.child}},exports.Margin=class extends View{constructor({child:e,all:t,top:i="0px",right:r="0px",bottom:s="0px",left:o="0px"}){void 0!==t&&(i=r=s=o=t);const validateMargin=(e,t)=>{if(!/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw)$/.test(e))throw TypeError(`Marginコンポーネントの${t}プロパティには、有効なCSSの長さ単位が必要です。\n渡された値: ${e}`)};validateMargin(i,"top"),validateMargin(r,"right"),validateMargin(s,"bottom"),validateMargin(o,"left"),super(),this.child=e,this.margin={top:i,right:r,bottom:s,left:o}}styledView(e){return e.style.marginTop=this.margin.top,e.style.marginRight=this.margin.right,e.style.marginBottom=this.margin.bottom,e.style.marginLeft=this.margin.left,e}build(){return this.child}},exports.Padding=Padding,exports.PageRouter=class extends View{constructor({pages:e=[]}){const t=Provider.createProvider((()=>[0]),"pageHistoryProvider__PageRouter"),i=Provider.createProvider((()=>0),"currentPageIndexProvider__PageRouter");super(),this.pages=e,this.pageHistoryProvider=t,this.currentPageIndexProvider=i}createWrapView(){return document.createElement("div")}build(){return 0===this.pages.length?null:new LimitedProviderScope({watchingProviders:[this.currentPageIndexProvider],build:e=>this.pages[e[0]]})}pushPage(e){this.pageHistoryProvider.update((t=>[...t,e])),this.currentPageIndexProvider.update((()=>e))}popPage(){this.pageHistoryProvider.update((e=>{if(e.length>1){const t=e.slice(0,-1);return this.currentPageIndexProvider.update((()=>t[t.length-1])),t}return e}))}replacePage(e){this.pageHistoryProvider.update((t=>{const i=[...t.slice(0,-1),e];return this.currentPageIndexProvider.update((()=>e)),i}))}canPop(){return this.pageHistoryProvider.read().length>1}},exports.Paginations=class extends View{constructor({totalPages:e,currentPageIndex:t=1,onPageChange:i=()=>{},itemStyle:r=new BaseCSS}){const s=Provider.createProvider((()=>t),"currentPage");super(),this.totalPages=e,this.currentPageProvider=s,this.onPageChange=i,this.itemStyle=r}createWrapView(){return document.createElement("ul")}styledView(e){return e.style.display="flex",e.style.listStyle="none",e.style.padding="0",e}build(){const e=[];let t=Math.max(1,this.currentPageProvider.read()-2),i=Math.min(this.totalPages,this.currentPageProvider.read()+2);i-t+1>5&&(this.currentPageProvider<=Math.ceil(2.5)?i=5:t=i-5+1),e.push(new LimitedProviderScope({watchingProviders:[this.currentPageProvider],build:e=>new PaginationNavigationItem({label:"<",isActive:1!=e,isAddition:!1,currentPageProvider:this.currentPageProvider,itemStyle:this.itemStyle})})),t>1&&e.push(new LimitedProviderScope({watchingProviders:[this.currentPageProvider],build:()=>new PaginationItem({page:1,label:"1",isActive:!1,onClick:this.onPageChange,currentPageProvider:this.currentPageProvider,itemStyle:this.itemStyle})}));for(let i=t;i<=this.totalPages;i++){const t=i;e.push(new LimitedProviderScope({watchingProviders:[this.currentPageProvider],build:()=>new PaginationItem({page:t,label:t.toString(),isActive:t===this.currentPageProvider.read(),onClick:this.onPageChange,currentPageProvider:this.currentPageProvider,itemStyle:this.itemStyle})}))}return e.push(new LimitedProviderScope({watchingProviders:[this.currentPageProvider],build:e=>new PaginationNavigationItem({label:">",isActive:e!=this.totalPages,isAddition:!0,currentPageProvider:this.currentPageProvider,itemStyle:this.itemStyle})})),e}},exports.Position=class extends View{constructor({child:e,top:t=0,left:i=0}){super(),this.child=e,this.top=t,this.left=i}styledView(e){return e.className="pos-wrapper",e.style.width="100%",e.style.height="100%",e}build(){return new _PositionChild({child:this.child,top:this.top,left:this.left})}},exports.Provider=Provider,exports.ProviderObserver=ProviderObserver,exports.ProviderScope=ProviderScope,exports.RadioButton=class extends ProviderScope{constructor({labelText:e,name:t="",checkedRadioButton:i=()=>{},providers:r=null,isDisplay:s=!0,isChecked:o=!1}){super({watchingProviders:r??[]}),this.labelText=e,this.name=t,this.checkedRadioButton=i,this.isDisplay=s,this.isChecked=o}createWrapView(){let e=document.createElement("label"),t=document.createElement("input");e.appendChild(t);const i=document.createTextNode(this.labelText);return e.appendChild(i),e}styledView(e){return e.firstElementChild.type="radio",e.firstElementChild.name=this.name,this.isDisplay||(e.firstElementChild.style.display="none"),e.firstElementChild.checked=this.isChecked,e}embedScriptToView(e){return this._setEventListenerToRadioBtn(e),e}_setEventListenerToRadioBtn(e){e.addEventListener("change",(t=>{t.target.checked&&this.checkedRadioButton(e,t)}))}},exports.RelativePosition=class extends View{constructor({child:e,relativePositions:t}){super(),this.child=e,this.relativePositions=t}styledView(e){return e.style.width="100%",e.style.height="100%",e.style.textAlign="center",e.style.justifyContent="center",e.style.display="flex",e.style.alignItems="center",e.style.borderRadius="inherit",e}build(){return new _RelativePosition(this.props)}},exports.RelativePositionAnimateSwitcher=class extends View{constructor({child:e,beginPosition:t,endPosition:i,duration:r=600}){super(),this.child=e,this.beginPosition=t,this.endPosition=i,this.duration=r}styledView(e){return e.style.width="100%",e.style.height="100%",e.style.textAlign="center",e.style.justifyContent="center",e.style.display="flex",e.style.alignItems="center",e.style.borderRadius="inherit",e.style.transition="all 0.5s ease-in-out",e}build(){const e=new _RelativePositionAnimateSwitcher(this.props);return this.repos=e,e}animate(){this.repos.animate()}},exports.RelativePositions=RelativePositions,exports.Row=Row,exports.Scaffold=class extends View{constructor({child:e,header:t=null,footer:i=null,drawer:r=null,floatingActionButton:s=null}){if(!(t instanceof Header))throw new Error("Scaffold header property must assign Header class");super(),this.child=e,this.header=t,this.footer=i,this.drawer=r,this.floatingActionButton=s}styledView(e){return e.style.width="100%",e.style.height="100%",e}build(){const e=[];return this.header&&e.push(this.header),e.push(this.child),this.footer&&e.push(this.footer),new Column({children:e})}},exports.ShadowLevel=ShadowLevel,exports.Shrink=Shrink,exports.SimpleDialog=class extends View{constructor({child:e,cancelText:t,okText:i,onCancelClickedFn:r=()=>{},onOkClickedFn:s=()=>{}}){super(),this.child=e,this.cancelText=t,this.okText=i,this.onCancelClickedFn=r,this.onOkClickedFn=s}createWrapView(){return document.createElement("dialog")}styledView(e){return e}build(){return new Column({children:[this.child,new Row({isAlignCenter:!0,children:[new ElevatedButton({baseCSS:new BaseCSS({margin:"32px"}),child:this.cancelText??new Text("cancel"),onClick:()=>{this.onCancelClickedFn(),this.closeModal()}}),new ElevatedButton({baseCSS:new BaseCSS({margin:"32px"}),child:this.okText??new Text("ok"),onClick:()=>{this.onOkClickedFn(),this.closeModal()}})]})]})}openModal(){document.body.appendChild(this.view),this.view.showModal(),this.addPseudoElement()}closeModal(){this.view.close()}},exports.Slider=class extends View{constructor({provider:e=null,min:t=0,max:i=100,value:r=50,step:s=1,name:o="",onChange:n=()=>{},isDisplay:l=!0,baseCSS:a=new BaseCSS}={}){super(),this.provider=e,this.min=t,this.max=i,this.value=r,this.step=s,this.name=o,this.onChange=n,this.isDisplay=l,this.baseCSS=a}createWrapView(){return document.createElement("input")}styledView(e){return e.type="range",e.min=this.min,e.max=this.max,e.value=this.value,e.step=this.step,e.name=this.name,this.isDisplay||(e.style.display="none"),e=this.baseCSS.applyCSS(e)}embedScriptToView(e){return this._setEventListenerToSlider(e),e}_setEventListenerToSlider(e){e.addEventListener("input",(t=>{this.onChange(t.target.value,e,t),this.provider&&this.provider.update((()=>t.target.value))}))}},exports.SpaceBox=SpaceBox,exports.Stack=class extends View{constructor({children:e,baseCSS:t=new BaseCSS}){super(),this.children=e,this.baseCSS=t}styledView(e){return e.style.position="relative",e=this.baseCSS.applyCSS(e)}preBuild(){this.children.forEach((e=>{e.view.style.position="absolute"}))}build(){return this.children}},exports.Text=Text,exports.TextArea=class extends View{constructor({provider:e=null,value:t="",placeholder:i="",maxLength:r=null,rows:s=null,cols:o=null,wrap:n="soft",spellcheck:l=!1,readonly:a=!1,disabled:h=!1,baseCSS:d=new BaseCSS}){super(),this.provider=e,this.value=t,this.placeholder=i,this.maxLength=r,this.rows=s,this.cols=o,this.wrap=n,this.spellcheck=l,this.readonly=a,this.disabled=h,this.baseCSS=d}createWrapView(){return document.createElement("textarea")}styledView(e){return(e=this.baseCSS.applyCSS(e)).value=this.value,e.placeholder=this.placeholder,this.maxLength&&(e.maxLength=this.maxLength),this.rows&&(e.rows=this.rows),this.cols&&(e.cols=this.cols),e.wrap=this.wrap,e.spellcheck=this.spellcheck,e.readOnly=this.readonly,e.disabled=this.disabled,e}embedScriptToView(e){return e.addEventListener("input",(()=>{const t=e.value;this.updateProvider(t)})),e}updateProvider(e){this.provider&&this.provider.update((()=>e))}},exports.TextCSS=TextCSS,exports.TextForm=class extends View{constructor({provider:e=null,minLength:t=null,maxLength:i=null,value:r=null,placeholder:s="",required:o="",pattern:n="",baseCSS:l=new BaseCSS}){super(),this.provider=e,this.minLength=t,this.maxLength=i,this.value=r,this.placeholder=s,this.required=o,this.pattern=n,this.baseCSS=l}createWrapView(){const e=document.createElement("input");return e.type="text",e}styledView(e){return(e=this.baseCSS.applyCSS(e)).value=this.value||"",e.placeholder=this.placeholder,this.minLength&&(e.minLength=this.minLength),this.maxLength&&(e.maxLength=this.maxLength),e.required=""!==this.required,e.pattern=this.pattern,e}embedScriptToView(e){return e.addEventListener("input",(()=>{const t=e.value;this.updateProvider(t)})),e}updateProvider(e){this.provider&&this.provider.update((()=>e))}},exports.Transform=class extends View{constructor({child:e,baseCSS:t=new BaseCSS,translateX:i=0,translateY:r=0,translateZ:s=0,rotateX:o=0,rotateY:n=0,rotateZ:l=0,scaleX:a=1,scaleY:h=1,scaleZ:d=1,skewX:p=0,skewY:w=0}={}){super(),this.child=e,this.baseCSS=t,this.properties={translateX:i,translateY:r,translateZ:s,rotateX:o,rotateY:n,rotateZ:l,scaleX:a,scaleY:h,scaleZ:d,skewX:p,skewY:w}}styledView(e){return e=this.baseCSS.applyCSS(e),e=this._applyTransformCSS(e)}_applyTransformCSS(e){const t=[];return 0===this.properties.translateX&&0===this.properties.translateY&&0===this.properties.translateZ||t.push(`translate3d(${this.properties.translateX}px, ${this.properties.translateY}px, ${this.properties.translateZ}px)`),0!==this.properties.rotateX&&t.push(`rotateX(${this.properties.rotateX}deg)`),0!==this.properties.rotateY&&t.push(`rotateY(${this.properties.rotateY}deg)`),0!==this.properties.rotateZ&&t.push(`rotateZ(${this.properties.rotateZ}deg)`),1===this.properties.scaleX&&1===this.properties.scaleY&&1===this.properties.scaleZ||t.push(`scale3d(${this.properties.scaleX}, ${this.properties.scaleY}, ${this.properties.scaleZ})`),0===this.properties.skewX&&0===this.properties.skewY||t.push(`skew(${this.properties.skewX}deg, ${this.properties.skewY}deg)`),t.length>0&&(e.style.transform=t.join(" ")),e.style.transformOrigin="center center",e}animate(e,t=500,i="ease"){return this.view?(Object.assign(this.properties,e),this.view.style.transition=`transform ${t}ms ${i}`,this.view.addEventListener("transitionend",(()=>{this.view.style.transition="",this._applyTransformCSS(this.view)}),{once:!0}),requestAnimationFrame((()=>{this._applyTransformCSS(this.view)})),this):this}build(){return this.child}},exports.View=View,exports.WebkitCSS=WebkitCSS,exports.assembleView=function(e,t="fJutteS-Container"){e.assemble();let i=e.view,r=document.getElementById(t);return r&&r.appendChild(i),e.assembleComplete(),i},exports.generateUUID=generateUUID,exports.hashCode=function(e,t=8){void 0===e&&(e=99*Math.random()+1);const i=JSON.stringify(e);let r=0;for(let e=0;e<i.length;e++){r=(r<<5)-r+i.charCodeAt(e),r|=0}return Math.abs(r).toString(16).padStart(t,99*Math.random()+1)},exports.langSwitchProvider=e,exports.route=function(e){window.location.hash=`#${e}`};
