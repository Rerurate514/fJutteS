function generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}class View{isLogOut=!1;constructor(e={}){if(this.constructor===View)throw new TypeError("このクラスをインスタンス化しないでください。");this._isViewBuilt=!1,this.props=e,this._createId(),this.initialize(),this.preBuild();let t=this.build();this.child=t,this.postBuild(),this.terminate();let i=this._assembleWrapView();this.viewCache=i.cloneNode(!0),this._inputViewData(t,i),this._isViewBuilt=!0}_assembleWrapView(){let e=this.createWrapView();this._checkHTMLElement(e,"createWrapView");let t=this.styledView(e);this._checkHTMLElement(t,"styledView");let i=this.embedScriptToView(t);return this._checkHTMLElement(i,"embedScriptToView"),i}addPseudoElement(){this.child instanceof View&&this.child.addPseudoElement(),this.child instanceof Array&&this.child.forEach((e=>{e.addPseudoElement()}));let e=this.createBeforeElement(),t=this.createAfterElement();e&&(this._checkHTMLElement(e,"createBeforeElement"),this.view.before(e)),t&&(this._checkHTMLElement(t,"createAfterElement"),this.view.after(t))}createBeforeElement(){return null}createAfterElement(){return null}_checkHTMLElement(e,t){if(!(e instanceof HTMLElement))throw new TypeError(t+"には必ずHTMLElenmentオブジェクトを格納してください。 渡された型:",typeof e)}getBuildCompletionState(){return this._isViewBuilt}createWrapView(){throw new TypeError("createWrapViewメソッドを必ずオーバーライドして、HTMLElement型を返り値に設定してください。")}styledView(e){return e}embedScriptToView(e){return e}build(){}preBuild(){}postBuild(){}initialize(){}terminate(){}onDispose(){}_dispose(){this.child instanceof View&&this.child._dispose(),this.child instanceof Array&&this.child.forEach((e=>{e._dispose()})),this.onDispose()}onRendered(){}_rendered(){this.child instanceof View&&this.child._rendered(),this.child instanceof Array&&this.child.forEach((e=>{e._rendered()})),this.onRendered()}rebuild({props:e=null,builtView:t=null}={}){e&&(this.props=e),this.preBuild();let i=document.getElementById(`${this.view.id}`);null!=i&&(this._inputViewData(t??this.build(),this.viewCache.cloneNode(!0)),i.replaceWith(this.view),this._log("rebuildされました : View name => "+this.constructor.name+"\nViewID => "+this.view.id),this.postBuild())}_inputViewData(e,t){e instanceof Array?this._inputMultiView(e,t):this._inputSingleView(e,t),this._attributeId(),this._attributeViewNameToDataset()}_inputSingleView(e,t){this.view=t,e instanceof View&&this.view.appendChild(e.view)}_inputMultiView(e,t){this.view||(this.view=t),e.forEach((e=>{e&&this.view.appendChild(e.view)}))}_createId(){this.props.id=generateUUID()}_attributeId(){this.view.id=this.props.id}_attributeViewNameToDataset(){this.view.dataset.viewClassName=this.constructor.name}_log(e){this.isLogOut&&console.log("["+this.constructor.name+"] "+e)}}class ProviderScope extends View{constructor({child:e,props:t={},watchingProviders:i=[]}){t.providers=i,t.child=e,super(t),this._iterateProviders()}_iterateProviders(){this.props.providers.forEach((e=>{this._watch(e)}))}_watch(e){e.watch((()=>{this.rebuild()}),{immediate:!1})}}class CustomError extends Error{constructor(e){super(e),this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}class OverridePreBuildMethodInProviderScopeError extends CustomError{constructor(e){super("In "+e+"クラス, ProviderScopeを継承したクラス内ではpreBuildメソッドが継承できません。\n代わりに同じ動作を持つpreBuildScopeメソッドを継承してください。"),this.viewName=e}}class CreateIllegalInstanceError extends CustomError{constructor(e){super("このクラス("+e+")はインスタンス化してはいけません。"),this.classType=e}}class IllegalPreBuildDoSomothingError extends CustomError{constructor(e){super("Viewの構築プロセスが終了するまで以下の操作を行ってはなりません。\n\n"+e+"\n\nまたViewの構築プロセスが終了したかはgetBuildCompletionStateメソッドにて取得することができます。\n\nstackTrace:")}}class ProviderObserver{constructor(){return ProviderObserver.instance||(ProviderObserver.instance=this,this.dependencyGraph=new Map,this.updateHistory=[]),ProviderObserver.instance}outLogs(e=!0){this._isOutedLog=e}addDependency(e,t){this.dependencyGraph.has(e)||this.dependencyGraph.set(e,new Set),this.dependencyGraph.get(e).add(t),this.log(`Dependency added: ${this._getProviderInfo(e)} depends on ${this._getProviderInfo(t)}`)}deleteDependency(e,t){this.dependencyGraph.has(e)&&this.dependencyGraph.get(e).delete(t),this.log(`Dependency deleted: ${this._getProviderInfo(e)} unsubscribed ${this._getProviderInfo(t)}`)}_isLargeObject(e,t=10240){try{return new Blob([e]).size>t}catch(e){return console.error("オブジェクトの解析中にエラーが発生しました:",e),!0}}logUpdate(e,t,i){t=t&&t.props&&t.props.id?`${t.constructor.name}__viewId:${t.props.id}`:t,i=i&&i.props&&i.props.id?`${i.constructor.name}__viewId:${i.props.id}`:i,this._isLargeObject(t)&&(t="Large Object (simplified)"),this._isLargeObject(i)&&(i="Large Object (simplified)");const r={timestamp:new Date,provider:e.name,oldValue:t,newValue:i,stackTrace:this._getStackTrace()};this.updateHistory.push(r),this.log(`Update: ${r.provider} changed from ${JSON.stringify(t)} to ${JSON.stringify(i)}`)}getDependencyGraph(){const e={};return this.dependencyGraph.forEach(((t,i)=>{e[this._getProviderInfo(i)]=Array.from(t).map((e=>this._getProviderInfo(e)))})),e}getAllUpdateHistory(){return this.updateHistory}getFilteredUpdateHistory(e){return this.updateHistory.filter((t=>t.provider===this._getProviderInfo(e)))}_getProviderInfo(e){return e.name}_getStackTrace(){const e=(new Error).stack.toString();return e.substr(13,e.length)}log(e,t=null){if(!this._isOutedLog)return;const i=`[ProviderObserver] ${e}`;t?console.log(i,JSON.stringify(t,null,2)):console.log(i)}static clearInstance(){ProviderObserver.instance=null}}class Provider{constructor(e){this._dependencies=new Map,this._listeners=new Set,this._core=new ProviderCore(e)}static createProvider(e,t=null){let i=new Provider(e);return i._setName(t),i}_setName(e){this.name=e||Math.random().toString(36).substr(2,9)}read(){if(!this._core.isInitialized){const e=this._createRef();this._core.value=this._core.create(e),this._core.isInitialized=!0}return this._core.value}watch(e,{immediate:t=!0}={}){return this._listeners.add(e),t&&e(this.read()),()=>{this._listeners.delete(e)}}update(e){const t=this.read(),i=e(t);(new ProviderObserver).logUpdate(this,t,i),this._core.value=i,this._notifyListeners(i)}_notifyListeners(e){this._listeners.forEach((t=>t(e)))}_createRef(){const e=new ProviderObserver;return{read:e=>e.read(),update:t=>{const i=this.read();this.update(t);const r=this.read();e.logUpdate(this,i,r)},watch:(e,t)=>{(new ProviderObserver).addDependency(this,e),this._dependencies.set(e,new Dependency(e,this,t))}}}unsubscribedDependency(e){const t=new ProviderObserver;this._dependencies[e].unsubscribedParent(),this._dependencies.delete(e),t.deleteDependency(this.parentProvider)}}class ProviderCore{constructor(e){this.create=e,this.value=null,this.isInitialized=!1}}class Dependency{constructor(e,t,i){this.parentProvider=e,this.provider=t,this._listenParent(i)}printDependency(){console.log(this.provider+" depends on "+this.parentProvider)}_listenParent(e){this._unsubscribed=this.parentProvider.watch((t=>{this.provider.update((i=>e(t,i)))}),{immediate:!1})}unsubscribedParent(){this._unsubscribed()}}class DynamicProviderScope extends View{constructor({child:e,props:t={}}){t.child=e,t.providers=[],super(t)}createProvider(e){let t=Provider.createProvider((()=>e));return this.props.providers.push(t),t}refreshProviders(){if(!this.getBuildCompletionState())throw new IllegalPreBuildDoSomothingError("Viewの構築プロセスが終了するまでrefreshProvidersメソッドを呼び出さないでください。\nView構築プロセス状態 >>> isViewAssembleProccessesCompleted = "+this.getBuildCompletionState());this.rebuild({props:this.props})}}class ShadowLevel{static LVL0=new ShadowLevel("none");static LVL1=new ShadowLevel("0px 0px 4px rgba(0,0,0,0.1)");static LVL2=new ShadowLevel("0px 0px 8px rgba(0,0,0,0.12)");static LVL3=new ShadowLevel("0px 0px 16px rgba(0,0,0,0.14)");static LVL4=new ShadowLevel("0px 0px 24px rgba(0,0,0,0.16)");static LVL5=new ShadowLevel("0px 0px 32px rgba(0,0,0,0.18)");static LVL6=new ShadowLevel("0px 0px 40px rgba(0,0,0,0.20)");static LVL7=new ShadowLevel("0px 0px 48px rgba(0,0,0,0.22)");static LVL8=new ShadowLevel("0px 0px 56px rgba(0,0,0,0.24)");static LVL9=new ShadowLevel("0px 0px 64px rgba(0,0,0,0.26)");static LVL10=new ShadowLevel("0px 0px 72px rgba(0,0,0,0.28)");constructor(e){this.value=e}toString(){return this.value}}class BaseCSS{#e={};constructor({width:e=null,height:t=null,margin:i=null,padding:r=null,borderCSS:s=null}={}){this.#e={width:e,height:t,margin:i,padding:r,borderCSS:s}}applyCSS(e){return this.#e.width&&(e.style.width=this.#e.width),this.#e.height&&(e.style.height=this.#e.height),this.#e.margin&&(e.style.margin=this.#e.margin),this.#e.padding&&(e.style.padding=this.#e.padding),this.#e.borderCSS&&(e=this.#e.borderCSS.applyCSS(e)),e}}class WebkitCSS{#e={};constructor({webkitTransform:e=null,webkitTransformOrigin:t=null,webkitTransformStyle:i=null,webkitTransition:r=null,webkitTransitionDelay:s=null,webkitTransitionDuration:o=null,webkitTransitionProperty:n=null,webkitTransitionTimingFunction:l=null,webkitAnimation:p=null,webkitAnimationDelay:a=null,webkitAnimationDirection:d=null,webkitAnimationDuration:h=null,webkitAnimationFillMode:c=null,webkitAnimationIterationCount:u=null,webkitAnimationName:w=null,webkitAnimationPlayState:b=null,webkitAnimationTimingFunction:k=null,webkitFlex:S=null,webkitFlexBasis:g=null,webkitFlexDirection:m=null,webkitFlexFlow:y=null,webkitFlexGrow:x=null,webkitFlexShrink:C=null,webkitFlexWrap:v=null,webkitJustifyContent:f=null,webkitAlignItems:B=null,webkitAlignContent:P=null,webkitAlignSelf:V=null,webkitOrder:T=null,webkitBoxSizing:E=null,webkitBoxShadow:L=null,webkitBoxReflect:A=null,webkitBoxPack:_=null,webkitBoxAlign:W=null,webkitBoxFlex:M=null,webkitBoxFlexGroup:F=null,webkitBoxLines:R=null,webkitBoxOrdinalGroup:I=null,webkitBoxOrient:D=null,webkitBoxDirection:O=null,webkitFontSmoothing:H=null,webkitTextSizeAdjust:U=null,webkitTextFillColor:G=null,webkitTextStroke:z=null,webkitTextStrokeColor:$=null,webkitTextStrokeWidth:N=null,webkitBackgroundClip:X=null,webkitTextSecurity:Y=null,webkitLineClamp:j=null,webkitLineBreak:J=null,webkitAppearance:Z=null,webkitFilter:q=null,webkitBackdropFilter:K=null,webkitUserSelect:Q=null,webkitUserDrag:ee=null,webkitUserModify:te=null,webkitTouchCallout:ie=null,webkitOverflowScrolling:re=null,webkitMaskImage:se=null,webkitMaskSize:oe=null,webkitMaskPosition:ne=null,webkitMaskRepeat:le=null,webkitMaskOrigin:pe=null,webkitMaskClip:ae=null,webkitMaskComposite:de=null,webkitPerspective:he=null,webkitPerspectiveOrigin:ce=null,webkitBackfaceVisibility:ue=null,webkitTapHighlightColor:we=null,webkitHyphenateCharacter:be=null,webkitLocale:ke=null,webkitMarginBefore:Se=null,webkitMarginAfter:ge=null,webkitMarginStart:me=null,webkitMarginEnd:ye=null,webkitPaddingBefore:xe=null,webkitPaddingAfter:Ce=null,webkitPaddingStart:ve=null,webkitPaddingEnd:fe=null,webkitBorderStart:Be=null,webkitBorderEnd:Pe=null,webkitBorderBefore:Ve=null,webkitBorderAfter:Te=null,webkitBorderStartWidth:Ee=null,webkitBorderEndWidth:Le=null,webkitBorderBeforeWidth:Ae=null,webkitBorderAfterWidth:_e=null,webkitBorderStartColor:We=null,webkitBorderEndColor:Me=null,webkitBorderBeforeColor:Fe=null,webkitBorderAfterColor:Re=null,webkitBorderImage:Ie=null,webkitBorderRadius:De=null,webkitColumnCount:Oe=null,webkitColumnGap:He=null,webkitColumnRule:Ue=null,webkitColumnRuleColor:Ge=null,webkitColumnRuleStyle:ze=null,webkitColumnRuleWidth:$e=null,webkitColumnSpan:Ne=null,webkitColumnWidth:Xe=null,webkitColumns:Ye=null,webkitShapeOutside:je=null,webkitShapeImageThreshold:Je=null,webkitShapeMargin:Ze=null}={}){this.#e={webkitTransform:e,webkitTransformOrigin:t,webkitTransformStyle:i,webkitTransition:r,webkitTransitionDelay:s,webkitTransitionDuration:o,webkitTransitionProperty:n,webkitTransitionTimingFunction:l,webkitAnimation:p,webkitAnimationDelay:a,webkitAnimationDirection:d,webkitAnimationDuration:h,webkitAnimationFillMode:c,webkitAnimationIterationCount:u,webkitAnimationName:w,webkitAnimationPlayState:b,webkitAnimationTimingFunction:k,webkitFlex:S,webkitFlexBasis:g,webkitFlexDirection:m,webkitFlexFlow:y,webkitFlexGrow:x,webkitFlexShrink:C,webkitFlexWrap:v,webkitJustifyContent:f,webkitAlignItems:B,webkitAlignContent:P,webkitAlignSelf:V,webkitOrder:T,webkitBoxSizing:E,webkitBoxShadow:L,webkitBoxReflect:A,webkitBoxPack:_,webkitBoxAlign:W,webkitBoxFlex:M,webkitBoxFlexGroup:F,webkitBoxLines:R,webkitBoxOrdinalGroup:I,webkitBoxOrient:D,webkitBoxDirection:O,webkitFontSmoothing:H,webkitTextSizeAdjust:U,webkitTextFillColor:G,webkitTextStroke:z,webkitTextStrokeColor:$,webkitTextStrokeWidth:N,webkitBackgroundClip:X,webkitTextSecurity:Y,webkitLineClamp:j,webkitLineBreak:J,webkitAppearance:Z,webkitFilter:q,webkitBackdropFilter:K,webkitUserSelect:Q,webkitUserDrag:ee,webkitUserModify:te,webkitTouchCallout:ie,webkitOverflowScrolling:re,webkitMaskImage:se,webkitMaskSize:oe,webkitMaskPosition:ne,webkitMaskRepeat:le,webkitMaskOrigin:pe,webkitMaskClip:ae,webkitMaskComposite:de,webkitPerspective:he,webkitPerspectiveOrigin:ce,webkitBackfaceVisibility:ue,webkitTapHighlightColor:we,webkitHyphenateCharacter:be,webkitLocale:ke,webkitMarginBefore:Se,webkitMarginAfter:ge,webkitMarginStart:me,webkitMarginEnd:ye,webkitPaddingBefore:xe,webkitPaddingAfter:Ce,webkitPaddingStart:ve,webkitPaddingEnd:fe,webkitBorderStart:Be,webkitBorderEnd:Pe,webkitBorderBefore:Ve,webkitBorderAfter:Te,webkitBorderStartWidth:Ee,webkitBorderEndWidth:Le,webkitBorderBeforeWidth:Ae,webkitBorderAfterWidth:_e,webkitBorderStartColor:We,webkitBorderEndColor:Me,webkitBorderBeforeColor:Fe,webkitBorderAfterColor:Re,webkitBorderImage:Ie,webkitBorderRadius:De,webkitColumnCount:Oe,webkitColumnGap:He,webkitColumnRule:Ue,webkitColumnRuleColor:Ge,webkitColumnRuleStyle:ze,webkitColumnRuleWidth:$e,webkitColumnSpan:Ne,webkitColumnWidth:Xe,webkitColumns:Ye,webkitShapeOutside:je,webkitShapeImageThreshold:Je,webkitShapeMargin:Ze}}applyCSS(e){return this.#e.webkitTransform&&(e.style.webkitTransform=this.#e.webkitTransform),this.#e.webkitTransformOrigin&&(e.style.webkitTransformOrigin=this.#e.webkitTransformOrigin),this.#e.webkitTransformStyle&&(e.style.webkitTransformStyle=this.#e.webkitTransformStyle),this.#e.webkitTransition&&(e.style.webkitTransition=this.#e.webkitTransition),this.#e.webkitTransitionDelay&&(e.style.webkitTransitionDelay=this.#e.webkitTransitionDelay),this.#e.webkitTransitionDuration&&(e.style.webkitTransitionDuration=this.#e.webkitTransitionDuration),this.#e.webkitTransitionProperty&&(e.style.webkitTransitionProperty=this.#e.webkitTransitionProperty),this.#e.webkitTransitionTimingFunction&&(e.style.webkitTransitionTimingFunction=this.#e.webkitTransitionTimingFunction),this.#e.webkitAnimation&&(e.style.webkitAnimation=this.#e.webkitAnimation),this.#e.webkitAnimationDelay&&(e.style.webkitAnimationDelay=this.#e.webkitAnimationDelay),this.#e.webkitAnimationDirection&&(e.style.webkitAnimationDirection=this.#e.webkitAnimationDirection),this.#e.webkitAnimationDuration&&(e.style.webkitAnimationDuration=this.#e.webkitAnimationDuration),this.#e.webkitAnimationFillMode&&(e.style.webkitAnimationFillMode=this.#e.webkitAnimationFillMode),this.#e.webkitAnimationIterationCount&&(e.style.webkitAnimationIterationCount=this.#e.webkitAnimationIterationCount),this.#e.webkitAnimationName&&(e.style.webkitAnimationName=this.#e.webkitAnimationName),this.#e.webkitAnimationPlayState&&(e.style.webkitAnimationPlayState=this.#e.webkitAnimationPlayState),this.#e.webkitAnimationTimingFunction&&(e.style.webkitAnimationTimingFunction=this.#e.webkitAnimationTimingFunction),this.#e.webkitFlex&&(e.style.webkitFlex=this.#e.webkitFlex),this.#e.webkitFlexBasis&&(e.style.webkitFlexBasis=this.#e.webkitFlexBasis),this.#e.webkitFlexDirection&&(e.style.webkitFlexDirection=this.#e.webkitFlexDirection),this.#e.webkitFlexFlow&&(e.style.webkitFlexFlow=this.#e.webkitFlexFlow),this.#e.webkitFlexGrow&&(e.style.webkitFlexGrow=this.#e.webkitFlexGrow),this.#e.webkitFlexShrink&&(e.style.webkitFlexShrink=this.#e.webkitFlexShrink),this.#e.webkitFlexWrap&&(e.style.webkitFlexWrap=this.#e.webkitFlexWrap),this.#e.webkitJustifyContent&&(e.style.webkitJustifyContent=this.#e.webkitJustifyContent),this.#e.webkitAlignItems&&(e.style.webkitAlignItems=this.#e.webkitAlignItems),this.#e.webkitAlignContent&&(e.style.webkitAlignContent=this.#e.webkitAlignContent),this.#e.webkitAlignSelf&&(e.style.webkitAlignSelf=this.#e.webkitAlignSelf),this.#e.webkitOrder&&(e.style.webkitOrder=this.#e.webkitOrder),this.#e.webkitBoxSizing&&(e.style.webkitBoxSizing=this.#e.webkitBoxSizing),this.#e.webkitBoxShadow&&(e.style.webkitBoxShadow=this.#e.webkitBoxShadow),this.#e.webkitBoxReflect&&(e.style.webkitBoxReflect=this.#e.webkitBoxReflect),this.#e.webkitBoxPack&&(e.style.webkitBoxPack=this.#e.webkitBoxPack),this.#e.webkitBoxAlign&&(e.style.webkitBoxAlign=this.#e.webkitBoxAlign),this.#e.webkitBoxFlex&&(e.style.webkitBoxFlex=this.#e.webkitBoxFlex),this.#e.webkitBoxFlexGroup&&(e.style.webkitBoxFlexGroup=this.#e.webkitBoxFlexGroup),this.#e.webkitBoxLines&&(e.style.webkitBoxLines=this.#e.webkitBoxLines),this.#e.webkitBoxOrdinalGroup&&(e.style.webkitBoxOrdinalGroup=this.#e.webkitBoxOrdinalGroup),this.#e.webkitBoxOrient&&(e.style.webkitBoxOrient=this.#e.webkitBoxOrient),this.#e.webkitBoxDirection&&(e.style.webkitBoxDirection=this.#e.webkitBoxDirection),this.#e.webkitFontSmoothing&&(e.style.webkitFontSmoothing=this.#e.webkitFontSmoothing),this.#e.webkitTextSizeAdjust&&(e.style.webkitTextSizeAdjust=this.#e.webkitTextSizeAdjust),this.#e.webkitTextFillColor&&(e.style.webkitTextFillColor=this.#e.webkitTextFillColor),this.#e.webkitTextStroke&&(e.style.webkitTextStroke=this.#e.webkitTextStroke),this.#e.webkitTextStrokeColor&&(e.style.webkitTextStrokeColor=this.#e.webkitTextStrokeColor),this.#e.webkitTextStrokeWidth&&(e.style.webkitTextStrokeWidth=this.#e.webkitTextStrokeWidth),this.#e.webkitBackgroundClip&&(e.style.webkitBackgroundClip=this.#e.webkitBackgroundClip),this.#e.webkitTextSecurity&&(e.style.webkitTextSecurity=this.#e.webkitTextSecurity),this.#e.webkitLineClamp&&(e.style.webkitLineClamp=this.#e.webkitLineClamp),this.#e.webkitLineBreak&&(e.style.webkitLineBreak=this.#e.webkitLineBreak),this.#e.webkitAppearance&&(e.style.webkitAppearance=this.#e.webkitAppearance),this.#e.webkitFilter&&(e.style.webkitFilter=this.#e.webkitFilter),this.#e.webkitBackdropFilter&&(e.style.webkitBackdropFilter=this.#e.webkitBackdropFilter),this.#e.webkitUserSelect&&(e.style.webkitUserSelect=this.#e.webkitUserSelect),this.#e.webkitUserDrag&&(e.style.webkitUserDrag=this.#e.webkitUserDrag),this.#e.webkitUserModify&&(e.style.webkitUserModify=this.#e.webkitUserModify),this.#e.webkitTouchCallout&&(e.style.webkitTouchCallout=this.#e.webkitTouchCallout),this.#e.webkitOverflowScrolling&&(e.style.webkitOverflowScrolling=this.#e.webkitOverflowScrolling),this.#e.webkitMaskImage&&(e.style.webkitMaskImage=this.#e.webkitMaskImage),this.#e.webkitMaskSize&&(e.style.webkitMaskSize=this.#e.webkitMaskSize),this.#e.webkitMaskPosition&&(e.style.webkitMaskPosition=this.#e.webkitMaskPosition),this.#e.webkitMaskRepeat&&(e.style.webkitMaskRepeat=this.#e.webkitMaskRepeat),this.#e.webkitMaskOrigin&&(e.style.webkitMaskOrigin=this.#e.webkitMaskOrigin),this.#e.webkitMaskClip&&(e.style.webkitMaskClip=this.#e.webkitMaskClip),this.#e.webkitMaskComposite&&(e.style.webkitMaskComposite=this.#e.webkitMaskComposite),this.#e.webkitPerspective&&(e.style.webkitPerspective=this.#e.webkitPerspective),this.#e.webkitPerspectiveOrigin&&(e.style.webkitPerspectiveOrigin=this.#e.webkitPerspectiveOrigin),this.#e.webkitBackfaceVisibility&&(e.style.webkitBackfaceVisibility=this.#e.webkitBackfaceVisibility),this.#e.webkitTapHighlightColor&&(e.style.webkitTapHighlightColor=this.#e.webkitTapHighlightColor),this.#e.webkitHyphenateCharacter&&(e.style.webkitHyphenateCharacter=this.#e.webkitHyphenateCharacter),this.#e.webkitLocale&&(e.style.webkitLocale=this.#e.webkitLocale),this.#e.webkitMarginBefore&&(e.style.webkitMarginBefore=this.#e.webkitMarginBefore),this.#e.webkitMarginAfter&&(e.style.webkitMarginAfter=this.#e.webkitMarginAfter),this.#e.webkitMarginStart&&(e.style.webkitMarginStart=this.#e.webkitMarginStart),this.#e.webkitMarginEnd&&(e.style.webkitMarginEnd=this.#e.webkitMarginEnd),this.#e.webkitPaddingBefore&&(e.style.webkitPaddingBefore=this.#e.webkitPaddingBefore),this.#e.webkitPaddingAfter&&(e.style.webkitPaddingAfter=this.#e.webkitPaddingAfter),this.#e.webkitPaddingStart&&(e.style.webkitPaddingStart=this.#e.webkitPaddingStart),this.#e.webkitPaddingEnd&&(e.style.webkitPaddingEnd=this.#e.webkitPaddingEnd),this.#e.webkitBorderStart&&(e.style.webkitBorderStart=this.#e.webkitBorderStart),this.#e.webkitBorderEnd&&(e.style.webkitBorderEnd=this.#e.webkitBorderEnd),this.#e.webkitBorderBefore&&(e.style.webkitBorderBefore=this.#e.webkitBorderBefore),this.#e.webkitBorderAfter&&(e.style.webkitBorderAfter=this.#e.webkitBorderAfter),this.#e.webkitBorderStartWidth&&(e.style.webkitBorderStartWidth=this.#e.webkitBorderStartWidth),this.#e.webkitBorderEndWidth&&(e.style.webkitBorderEndWidth=this.#e.webkitBorderEndWidth),this.#e.webkitBorderBeforeWidth&&(e.style.webkitBorderBeforeWidth=this.#e.webkitBorderBeforeWidth),this.#e.webkitBorderAfterWidth&&(e.style.webkitBorderAfterWidth=this.#e.webkitBorderAfterWidth),this.#e.webkitBorderStartColor&&(e.style.webkitBorderStartColor=this.#e.webkitBorderStartColor),this.#e.webkitBorderEndColor&&(e.style.webkitBorderEndColor=this.#e.webkitBorderEndColor),this.#e.webkitBorderBeforeColor&&(e.style.webkitBorderBeforeColor=this.#e.webkitBorderBeforeColor),this.#e.webkitBorderAfterColor&&(e.style.webkitBorderAfterColor=this.#e.webkitBorderAfterColor),this.#e.webkitBorderImage&&(e.style.webkitBorderImage=this.#e.webkitBorderImage),this.#e.webkitBorderRadius&&(e.style.webkitBorderRadius=this.#e.webkitBorderRadius),this.#e.webkitColumnCount&&(e.style.webkitColumnCount=this.#e.webkitColumnCount),this.#e.webkitColumnGap&&(e.style.webkitColumnGap=this.#e.webkitColumnGap),this.#e.webkitColumnRule&&(e.style.webkitColumnRule=this.#e.webkitColumnRule),this.#e.webkitColumnRuleColor&&(e.style.webkitColumnRuleColor=this.#e.webkitColumnRuleColor),this.#e.webkitColumnRuleStyle&&(e.style.webkitColumnRuleStyle=this.#e.webkitColumnRuleStyle),this.#e.webkitColumnRuleWidth&&(e.style.webkitColumnRuleWidth=this.#e.webkitColumnRuleWidth),this.#e.webkitColumnSpan&&(e.style.webkitColumnSpan=this.#e.webkitColumnSpan),this.#e.webkitColumnWidth&&(e.style.webkitColumnWidth=this.#e.webkitColumnWidth),this.#e.webkitColumns&&(e.style.webkitColumns=this.#e.webkitColumns),this.#e.webkitShapeOutside&&(e.style.webkitShapeOutside=this.#e.webkitShapeOutside),this.#e.webkitShapeImageThreshold&&(e.style.webkitShapeImageThreshold=this.#e.webkitShapeImageThreshold),this.#e.webkitShapeMargin&&(e.style.webkitShapeMargin=this.#e.webkitShapeMargin),e}}class Card extends View{constructor({child:e,radius:t="inherit",baseCSS:i=new BaseCSS({width:"inherit",height:"inherit"}),background:r=null,elevation:s=ShadowLevel.LVL0,webkitCSS:o=new WebkitCSS}){if(!(s instanceof ShadowLevel))throw TypeError("CardコンポーネントのElevationプロパティには、ShadowLevelクラスのみ受け付けています。\n渡された型:"+typeof s);if(!(o instanceof WebkitCSS))throw TypeError("CardコンポーネントのwebkitCSSプロパティには、WebkitCSSクラスのみ受け付けています。\n渡された型:"+typeof s);super({child:e,radius:t,baseCSS:i,background:r,elevation:s,webkitCSS:o})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.borderRadius=this.props.radius,this.props.background&&(e.style.background=this.props.background),e.style.boxShadow=this.props.elevation,e=this.props.baseCSS.applyCSS(e),e=this.props.webkitCSS.applyCSS(e)}build(){return this.props.child}}class Center extends View{constructor(e){super({child:e})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.width="100%",e.style.height="100%",e.style.textAlign="center",e.style.justifyContent="center",e.style.display="flex",e.style.alignItems="center",e.style.borderRadius="inherit",e}build(){return new _Center(this.props.child)}}class _Center extends View{constructor(e){super({child:e})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.width="fit-content",e.style.height="fit-content",e.style.margin="auto",e.style.borderRadius="inherit",e}build(){return this.props.child}}class Column extends View{constructor({children:e,baseCSS:t=new BaseCSS,isHorizontalCenter:i=!1}){super({children:e,baseCSS:t,isHorizontalCenter:i})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.display="flex",e.style.flexDirection="column",this.props.isHorizontalCenter&&(e.style.alignItems="center"),e=this.props.baseCSS.applyCSS(e)}build(){return this.props.children}}class Padding extends View{constructor({child:e,all:t,top:i="0px",right:r="0px",bottom:s="0px",left:o="0px"}){void 0!==t&&(i=r=s=o=t);const validatePadding=(e,t)=>{if(!/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw)$/.test(e))throw TypeError(`Paddingコンポーネントの${t}プロパティには、有効なCSSの長さ単位が必要です。\n渡された値: ${e}`)};validatePadding(i,"top"),validatePadding(r,"right"),validatePadding(s,"bottom"),validatePadding(o,"left"),super({child:e,padding:{top:i,right:r,bottom:s,left:o}})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.paddingTop=this.props.padding.top,e.style.paddingRight=this.props.padding.right,e.style.paddingBottom=this.props.padding.bottom,e.style.paddingLeft=this.props.padding.left,e}build(){return this.props.child}}class Position extends View{constructor({child:e,top:t=0,left:i=0}){super({child:e,top:t,left:i})}createWrapView(){return document.createElement("div")}styledView(e){return e.className="pos-wrapper",e.style.width="100%",e.style.height="100%",e}build(){return new _PositionChild({child:this.props.child,top:this.props.top,left:this.props.left})}}class _PositionChild extends View{constructor({child:e,top:t=0,left:i=0}){super({child:e,top:t,left:i})}createWrapView(){return document.createElement("div")}styledView(e){return e.className="pos-wrapper",e.style.width="100%",e.style.height="100%",e.style.position="relative",e.className="pos",e.style.top=this.props.top+"px",e.style.left=this.props.left+"px",e}build(){return this.props.child}}class Row extends View{constructor({children:e,baseCSS:t=new BaseCSS,isAlignCenter:i=!1,isJustifySpaceAround:r=!1,isJustifySpaceBetween:s=!1,isVerticalCenter:o=!1}){super({children:e,baseCSS:t,isAlignCenter:i,isJustifySpaceAround:r,isJustifySpaceBetween:s,isVerticalCenter:o})}createWrapView(){return document.createElement("div")}styledView(e){return e.className="row-container",e.style.display="flex",this.props.isAlignCenter&&(e.style.justifyContent="center"),this.props.isJustifySpaceAround&&(e.style.justifyContent="space-around"),this.props.isJustifySpaceBetween&&(e.style.justifyContent="space-between"),this.props.isVerticalCenter&&(e.style.alignItems="center"),e=this.props.baseCSS.applyCSS(e)}build(){return this.props.children}}class SpaceBox extends View{constructor({width:e="0px",height:t="0px"}={}){super({width:e,height:t})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.width=this.props.width,e.style.height=this.props.height,e}}class Stack extends View{constructor({children:e,baseCSS:t=new BaseCSS}){super({children:e,baseCSS:t})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.position="relative",e=this.props.baseCSS.applyCSS(e)}preBuild(){this.props.children.forEach((e=>{e.view.style.position="absolute"}))}build(){return this.props.children}}class FontCSS{#e={};constructor({color:e=null,fontStyle:t=null,fontWeight:i=null,fontSize:r=null,lineHeight:s=null,fontFamily:o=null}={}){this.#e={color:e,fontStyle:t,fontWeight:i,fontSize:r,lineHeight:s,fontFamily:o}}applyCSS(e){return this.#e.color&&(e.style.color=this.#e.color),this.#e.fontStyle&&(e.style.fontStyle=this.#e.fontStyle),this.#e.fontWeight&&(e.style.fontWeight=this.#e.fontWeight),this.#e.fontSize&&(e.style.fontSize=this.#e.fontSize),this.#e.lineHeight&&(e.style.lineHeight=this.#e.lineHeight),this.#e.fontFamily&&(e.style.fontFamily=this.#e.fontFamily),e}}class TextCSS{#e={};constructor({fontCSS:e=new FontCSS,letterSpacing:t=null,textAlign:i=null,textAlignLast:r=null,textIndent:s=null,textTransform:o=null,lineBreak:n=null,textOverflow:l=null,textWrap:p=null,wordBreak:a=null,textDecoration:d=null,textEmphasis:h=null,textShadow:c=null,writingMode:u=null,textCombineUpright:w=null,textOrientation:b=null,webkitCSS:k=new WebkitCSS}={}){this.#e={fontCSS:e,letterSpacing:t,textAlign:i,textAlignLast:r,textIndent:s,textTransform:o,lineBreak:n,textOverflow:l,textWrap:p,wordBreak:a,textDecoration:d,textEmphasis:h,textShadow:c,writingMode:u,textCombineUpright:w,textOrientation:b,webkitCSS:k}}applyCSS(e){return this.#e.letterSpacing&&(e.style.letterSpacing=this.#e.letterSpacing),this.#e.textAlign&&(e.style.textAlign=this.#e.textAlign),this.#e.textAlignLast&&(e.style.textAlignLast=this.#e.textAlignLast),this.#e.textIndent&&(e.style.textIndent=this.#e.textIndent),this.#e.textTransform&&(e.style.textTransform=this.#e.textTransform),this.#e.lineBreak&&(e.style.lineBreak=this.#e.lineBreak),this.#e.textOverflow&&(e.style.textOverflow=this.#e.textOverflow),this.#e.textWrap&&(e.style.textWrap=this.#e.textWrap),this.#e.wordBreak&&(e.style.wordBreak=this.#e.wordBreak),this.#e.textDecoration&&(e.style.textDecoration=this.#e.textDecoration),this.#e.textEmphasis&&(e.style.textEmphasis=this.#e.textEmphasis),this.#e.textShadow&&(e.style.textShadow=this.#e.textShadow),this.#e.writingMode&&(e.style.writingMode=this.#e.writingMode),this.#e.textCombineUpright&&(e.style.textCombineUpright=this.#e.textCombineUpright),this.#e.textOrientation&&(e.style.textOrientation=this.#e.textOrientation),this.#e.fontCSS&&this.#e.fontCSS.applyCSS(e),this.#e.webkitCSS&&this.#e.webkitCSS.applyCSS(e),e}}class Text extends View{constructor(e,t=new TextCSS){super({text:e,textCSS:t})}createWrapView(){return document.createElement("p")}styledView(e){return e.textContent=this.props.text,e.style.margin="0",e=this.props.textCSS.applyCSS(e),this.props.textCSS.webkitCSS&&(e=this.props.textCSS.webkitCSS.applyCSS(e)),e}}class BorderCSS{constructor({borderSize:e="0px",borderProperty:t="solid",color:i="transparent",radius:r=null,isTop:s=!0,isLeft:o=!0,isRight:n=!0,isBottom:l=!0}={}){this.borderSize=e,this.borderProperty=t,this.color=i,this.radius=r,this.isTop=s,this.isLeft=o,this.isRight=n,this.isBottom=l}_assembleCSS(){return this.borderSize+" "+this.borderProperty+" "+this.color}applyCSS(e){const t=this._assembleCSS();return this.isTop&&(e.style.borderTop=t),this.isRight&&(e.style.borderRight=t),this.isBottom&&(e.style.borderBottom=t),this.isLeft&&(e.style.borderLeft=t),this.radius&&(e.style.borderRadius=this.radius),e}}class Box extends View{constructor({width:e="0px",height:t="0px",background:i=null,borderCSS:r=new BorderCSS,webkitCSS:s=new WebkitCSS,child:o=null}){super({width:e,height:t,background:i,borderCSS:r,webkitCSS:s,child:o})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.width=this.props.width,e.style.height=this.props.height,this.props.background&&(e.style.background=this.props.background),e=this.props.borderCSS.applyCSS(e),e=this.props.webkitCSS.applyCSS(e)}build(){return this.props.child}}class Image extends View{constructor({src:e="",alt:t="",title:i="",baseCSS:r=new BaseCSS,webkitCSS:s=new WebkitCSS}){super({src:e,alt:t,title:i,baseCSS:r,webkitCSS:s})}createWrapView(){return document.createElement("img")}styledView(e){return e=this.props.baseCSS.applyCSS(e),(e=this.props.webkitCSS.applyCSS(e)).src=this.props.src,e.alt=this.props.alt,e.title=this.props.title,e}}class Link extends View{constructor({child:e,href:t,rel:i=null,target:r=null,isDownload:s=!1,isShownUnderline:o=!0}){super({child:e,href:t,rel:i,target:r,isDownload:s,isShownUnderline:o})}createWrapView(){return document.createElement("a")}styledView(e){return e.href=this.props.href,this.props.isDownload&&(e.download="download"),this.props.rel&&(e.rel=this.props.rel),this.props.target&&(e.target=this.props.target),this.props.isShownUnderline||(e.style.textDecoration="none"),e}build(){return this.props.child}}class Hover extends View{constructor({child:e,radius:t="inherit",shadow:i=ShadowLevel.LVL5,onClickEffect:r=!1}){super({child:e,radius:t,shadow:i,onClickEffect:r})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.width="fit-content",e.style.height="fit-content",e.style.position="relative",e.style.borderRadius=this.props.radius,e}build(){return new Row({baseCSS:new BaseCSS({borderCSS:new BorderCSS({radius:"inherit"})}),children:[this.props.child,new _HoverWrapper(this.props)]})}}class _HoverWrapper extends View{constructor({radius:e="inherit",onClickEffect:t=!1}){super({radius:e,onClickEffect:t})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.background="rgb(0, 0, 0, 0)",e.style.overflow="hidden",e.style.zIndex=998,e.style.borderRadius=this.props.radius,e}build(){return new _Hover(this.props)}}class _Hover extends View{constructor({radius:e="inherit",onClickEffect:t=!1}){super({radius:e,onClickEffect:t})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.width="100%",e.style.height="100%",e.style.background="rgb(0, 0, 0, 0)",e.style.mixBlendMode="difference",e.style.transition="background-color 0.4s",e.style.zIndex=999,e.style.borderRadius=this.props.radius,e}embedScriptToView(e){return e.addEventListener("mouseenter",(()=>{e.style.background="rgb(100, 100, 100, 0.4)"})),e.addEventListener("mouseleave",(()=>{e.style.background="rgb(0, 0, 0, 0)"})),this.props.onClickEffect?(e.addEventListener("click",(t=>{const i=e.getElementsByClassName("ripple");Array.from(i).forEach((e=>e.remove()));const r=document.createElement("div");r.classList.add("ripple"),r.style.position="absolute",r.style.transform="scale(0)",r.style.animation="",r.style.pointerEvents="none",r.style.background="rgba(200, 200, 200, 0.9)",r.style.borderRadius="50%",r.style.mixBlendMode="difference";const s=e.getBoundingClientRect(),o=t.clientX-s.left,n=t.clientY-s.top,l=e.offsetWidth,p=e.offsetHeight,a=Math.sqrt(l*l+p*p);r.style.width=r.style.height=2*a+"px",r.style.left=o-a+"px",r.style.top=n-a+"px",e.appendChild(r),r.animate([{transform:"scale(1)",opacity:"0"}],{duration:1e3,easing:"ease-in-out"}),setTimeout((()=>r.remove()),1e3)})),e):e}}class ElevatedButton extends View{constructor({child:e,radius:t="inherit",baseCSS:i=new BaseCSS,onClick:r=()=>{}}){super({child:e,radius:t,baseCSS:i,onClick:r})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.borderRadius=this.props.radius,e}embedScriptToView(e){return e.addEventListener("click",this.props.onClick),e}build(){return new Center(new Hover({radius:this.props.radius,onClickEffect:!0,child:new _ElevatedButton(this.props)}))}}class _ElevatedButton extends View{constructor({child:e,baseCSS:t=new BaseCSS,onClick:i=()=>{}}){super({child:e,baseCSS:t,onClick:i})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.borderRadius="inherit",e=this.props.baseCSS.applyCSS(e)}embedScriptToView(e){return e}build(){return this.props.child}}class Margin extends View{constructor({child:e,all:t,top:i="0px",right:r="0px",bottom:s="0px",left:o="0px"}){void 0!==t&&(i=r=s=o=t);const validateMargin=(e,t)=>{if(!/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw)$/.test(e))throw TypeError(`Marginコンポーネントの${t}プロパティには、有効なCSSの長さ単位が必要です。\n渡された値: ${e}`)};validateMargin(i,"top"),validateMargin(r,"right"),validateMargin(s,"bottom"),validateMargin(o,"left"),super({child:e,margin:{top:i,right:r,bottom:s,left:o}})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.marginTop=this.props.margin.top,e.style.marginRight=this.props.margin.right,e.style.marginBottom=this.props.margin.bottom,e.style.marginLeft=this.props.margin.left,e}build(){return this.props.child}}class RadioButton extends ProviderScope{constructor({labelText:e,name:t="",checkedRadioButton:i=()=>{},providers:r=null,isDisplay:s=!0,isChecked:o=!1}){super({watchingProviders:r??[],props:{labelText:e,name:t,checkedRadioButton:i,isDisplay:s,isChecked:o}})}createWrapView(){let e=document.createElement("label"),t=document.createElement("input");e.appendChild(t);const i=document.createTextNode(this.props.labelText);return e.appendChild(i),e}styledView(e){return e.firstElementChild.type="radio",e.firstElementChild.name=this.props.name,this.props.isDisplay||(e.firstElementChild.style.display="none"),e.firstElementChild.checked=this.props.isChecked,e}embedScriptToView(e){return this._setEventListenerToRadioBtn(e),e}_setEventListenerToRadioBtn(e){e.addEventListener("change",(t=>{t.target.checked&&this.props.checkedRadioButton(e,t)}))}}class Chips extends View{constructor({text:e,background:t=null,borderCSS:i=new BorderCSS}){super({text:e,background:t,borderCSS:i})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.borderRadius="32px",e.style.paddingLeft="16px",e.style.paddingRight="16px",e.style.overflow="hidden",e.style.boxShadow=ShadowLevel.LVL3,this.props.background&&(e.style.background=this.props.background),e=this.props.borderCSS.applyCSS(e)}build(){return new Card({background:this.props.background??"transparent",child:new Text(this.props.text)})}}class TextForm extends View{constructor({provider:e=null,minLength:t=null,maxLength:i=null,value:r=null,placeholder:s="",required:o="",pattern:n="",baseCSS:l=new BaseCSS}){super({provider:e,minLength:t,maxLength:i,value:r,placeholder:s,required:o,pattern:n,baseCSS:l})}createWrapView(){const e=document.createElement("input");return e.type="text",e}styledView(e){return(e=this.props.baseCSS.applyCSS(e)).value=this.props.value||"",e.placeholder=this.props.placeholder,this.props.minLength&&(e.minLength=this.props.minLength),this.props.maxLength&&(e.maxLength=this.props.maxLength),e.required=""!==this.props.required,e.pattern=this.props.pattern,e}embedScriptToView(e){return e.addEventListener("input",(()=>{const t=e.value;this.updateProvider(t)})),e}updateProvider(e){this.props.provider&&this.props.provider.update((()=>e))}}class TextArea extends View{constructor({provider:e=null,value:t="",placeholder:i="",maxLength:r=null,rows:s=null,cols:o=null,wrap:n="soft",spellcheck:l=!1,readonly:p=!1,disabled:a=!1,baseCSS:d=new BaseCSS}){super({provider:e,value:t,placeholder:i,maxLength:r,rows:s,cols:o,wrap:n,spellcheck:l,readonly:p,disabled:a,baseCSS:d})}createWrapView(){return document.createElement("textarea")}styledView(e){return(e=this.props.baseCSS.applyCSS(e)).value=this.props.value,e.placeholder=this.props.placeholder,this.props.maxLength&&(e.maxLength=this.props.maxLength),this.props.rows&&(e.rows=this.props.rows),this.props.cols&&(e.cols=this.props.cols),e.wrap=this.props.wrap,e.spellcheck=this.props.spellcheck,e.readOnly=this.props.readonly,e.disabled=this.props.disabled,e}embedScriptToView(e){return e.addEventListener("input",(()=>{const t=e.value;this.updateProvider(t)})),e}updateProvider(e){this.props.provider&&this.props.provider.update((()=>e))}}class Clip extends View{constructor({child:e,baseCSS:t=new BaseCSS}){super({child:e,baseCSS:t})}createWrapView(){return document.createElement("div")}styledView(e){return(e=this.props.baseCSS.applyCSS(e)).style.overflow="hidden",e}build(){return this.props.child}}class SimpleDialog extends View{constructor({child:e,cancelText:t,okText:i,onCancelClickedFn:r=()=>{},onOkClickedFn:s=()=>{}}){super({child:e,cancelText:t,okText:i,onCancelClickedFn:r,onOkClickedFn:s})}createWrapView(){return document.createElement("dialog")}styledView(e){return e}build(){return new Column({children:[this.props.child,new Row([new ElevatedButton({child:this.props.cancelText??new Text("cancel"),onClick:()=>{this.props.onCancelClickedFn(),this.closeModal()}}),new ElevatedButton({child:this.props.okText??new Text("ok"),onClick:()=>{this.props.onOkClickedFn(),this.closeModal()}})],{isAlignCenter:!0})]})}openModal(){document.body.appendChild(this.view),this.view.showModal(),this.addPseudoElement()}closeModal(){this.view.close()}}class DropDownMenu extends View{constructor({item:e=[],baseCSS:t=new BaseCSS,provider:i}){super({item:e,baseCSS:t,provider:i})}createWrapView(){return document.createElement("select")}styledView(e){return e=this.props.baseCSS.applyCSS(e)}embedScriptToView(e){return e.addEventListener("change",(e=>{this.props.provider.update((()=>e.target.value))})),e}build(){return this.props.item}}class DropDownMenuItem extends View{constructor({text:e,value:t}){super({text:e,value:t})}createWrapView(){return document.createElement("option")}styledView(e){return e.textContent=this.props.text,e.value=this.props.value,e}}class FloatingActionButton extends View{constructor({onClick:e=()=>{}}={}){super({onClick:e})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.width="fit-content",e.style.height="fit-content",e}build(){return new _FlotingActionButton(this.props.onClick)}}class _FlotingActionButton extends View{constructor(e){super({onClick:e})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.width="64px",e.style.height="64px",e.style.boxShadow=ShadowLevel.LVL4,e.style.borderRadius="1024px",e}build(){return new ElevatedButton({onClick:this.props.onClick,baseCSS:new BaseCSS({width:"64px",height:"64px"}),radius:"1024px",child:new Center(new Text("+"))})}}class LimitedProviderScope extends ProviderScope{constructor({props:e={},watchingProviders:t=[],build:i=()=>{}}){e.providers=t,e.build=i,super({props:e,watchingProviders:e.providers})}createWrapView(){return document.createElement("div")}build(){const e=this.props.providers.map((e=>e.read()));return this.props.build(e)}}class Shrink extends View{constructor(e){super({child:e})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.width="0px",e.style.height="0px",e.style.overflow="hidden",e}build(){return this.props.child}}class ExpandsPanel extends View{constructor({titleItem:e,child:t,radius:i="10px",buttonShadowLevel:r=ShadowLevel.LVL3,panelItemBackGround:s="white"}){super({titleItem:e,child:t,panelItemBackGround:s,radius:i,buttonShadowLevel:r,isExpands:Provider.createProvider((()=>!1),"isExpands__ExpandsPanel")})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.width="100%",e}build(){return new Column({children:[new Row({isJustifySpaceBetween:!0,isVerticalCenter:!0,children:[this.props.titleItem,new SpaceBox({width:"8px"}),new Card({radius:this.props.radius,elevation:this.props.buttonShadowLevel,child:new ElevatedButton({baseCSS:new BaseCSS({padding:"8px"}),child:new LimitedProviderScope({watchingProviders:[this.props.isExpands],build:e=>{const t=e[0]?"∧":"∨";return new Text(t)}}),onClick:()=>{this.props.isExpands.update((e=>!e))}})})]}),new SpaceBox({height:"8px"}),new LimitedProviderScope({watchingProviders:[this.props.isExpands],build:e=>e[0]?this.props.child:new Shrink(this.props.child)})]})}}class Grid extends View{constructor({children:e,minmaxPX:t,fraction:i=1,gap:r="0px"}){super({children:e,minmaxPX:t,fraction:i,gap:r})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.display="grid",e.style.gridTemplateColumns="repeat(auto-fit, minmax("+this.props.minmaxPX+"px, "+this.props.fraction+"fr))",e.style.gap=this.props.gap,e}build(){return this.props.children}}class RelativePosition extends View{constructor({child:e,relativePositions:t}){super({child:e,relativePositions:t})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.width="100%",e.style.height="100%",e.style.textAlign="center",e.style.justifyContent="center",e.style.display="flex",e.style.alignItems="center",e.style.borderRadius="inherit",e}build(){return new _RelativePosition(this.props)}}class _RelativePosition extends View{constructor({child:e,relativePositions:t}){super({child:e,relativePositions:t})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.width="fit-content",e.style.height="fit-content",(e=this.props.relativePositions.applyCSS(e)).style.borderRadius="inherit",e}build(){return this.props.child}}class Slider extends View{constructor({provider:e=null,min:t=0,max:i=100,value:r=50,step:s=1,name:o="",onChange:n=()=>{},isDisplay:l=!0,baseCSS:p=new BaseCSS}={}){super({provider:e,min:t,max:i,value:r,step:s,name:o,onChange:n,isDisplay:l,baseCSS:p})}createWrapView(){return document.createElement("input")}styledView(e){return e.type="range",e.min=this.props.min,e.max=this.props.max,e.value=this.props.value,e.step=this.props.step,e.name=this.props.name,this.props.isDisplay||(e.style.display="none"),e=this.props.baseCSS.applyCSS(e)}embedScriptToView(e){return this._setEventListenerToSlider(e),e}_setEventListenerToSlider(e){e.addEventListener("input",(t=>{this.props.onChange(t.target.value,e,t),this.props.provider&&this.props.provider.update((()=>t.target.value))}))}}class Transform extends View{constructor({child:e,baseCSS:t=new BaseCSS,translateX:i=0,translateY:r=0,translateZ:s=0,rotateX:o=0,rotateY:n=0,rotateZ:l=0,scaleX:p=1,scaleY:a=1,scaleZ:d=1,skewX:h=0,skewY:c=0}={}){super({child:e,baseCSS:t,translateX:i,translateY:r,translateZ:s,rotateX:o,rotateY:n,rotateZ:l,scaleX:p,scaleY:a,scaleZ:d,skewX:h,skewY:c})}createWrapView(){return document.createElement("div")}styledView(e){return e=this.props.baseCSS.applyCSS(e),e=this._applyTransformCSS(e)}_applyTransformCSS(e){const t=[];return 0===this.props.translateX&&0===this.props.translateY&&0===this.props.translateZ||t.push(`translate3d(${this.props.translateX}px, ${this.props.translateY}px, ${this.props.translateZ}px)`),0!==this.props.rotateX&&t.push(`rotateX(${this.props.rotateX}deg)`),0!==this.props.rotateY&&t.push(`rotateY(${this.props.rotateY}deg)`),0!==this.props.rotateZ&&t.push(`rotateZ(${this.props.rotateZ}deg)`),1===this.props.scaleX&&1===this.props.scaleY&&1===this.props.scaleZ||t.push(`scale3d(${this.props.scaleX}, ${this.props.scaleY}, ${this.props.scaleZ})`),0===this.props.skewX&&0===this.props.skewY||t.push(`skew(${this.props.skewX}deg, ${this.props.skewY}deg)`),t.length>0&&(e.style.transform=t.join(" ")),e.style.transformOrigin="center center",e}animate(e,t=500,i="ease"){return this.view?(Object.assign(this.props,e),this.view.style.transition=`transform ${t}ms ${i}`,this.view.addEventListener("transitionend",(()=>{this.view.style.transition="",this._applyTransformCSS(this.view)}),{once:!0}),requestAnimationFrame((()=>{this._applyTransformCSS(this.view)})),this):this}build(){return this.props.child}}class Accordion extends View{constructor({items:e,radius:t="10px",shadowLevel:i=ShadowLevel.LVL2,baseCSS:r=new BaseCSS}){super({items:e,radius:t,shadowLevel:i,baseCSS:r})}createWrapView(){return document.createElement("div")}build(){return this.props.items.map((e=>new AccordionItem({...e,radius:this.props.radius,shadowLevel:this.props.shadowLevel})))}}class AccordionItem extends View{constructor({title:e,content:t,radius:i,shadowLevel:r,baseCSS:s=new BaseCSS({padding:"4px"})}){super({title:e,content:t,radius:i,shadowLevel:r,isExpanded:Provider.createProvider((()=>!1),`AccordionItem_isExpanded_${generateUUID()}`),baseCSS:s})}createWrapView(){return document.createElement("div")}styledView(e){return e=this.props.baseCSS.applyCSS(e)}build(){return new Card({radius:this.props.radius,elevation:this.props.shadowLevel,baseCSS:new BaseCSS({padding:"4px"}),child:new Column({children:[new Row({children:[new Text(this.props.title,new TextCSS({fontCSS:new FontCSS({fontWeight:"bold"})})),new SpaceBox({width:"8px"}),new LimitedProviderScope({watchingProviders:[this.props.isExpanded],build:e=>new Text(e[0]?"▲":"▼")})],isJustifySpaceBetween:!0,isVerticalCenter:!0}),new LimitedProviderScope({watchingProviders:[this.props.isExpanded],build:e=>e[0]?this.props.content:new Shrink(this.props.content)})]})})}embedScriptToView(e){return e.addEventListener("click",(()=>{this.props.isExpanded.update((e=>!e))})),e}}class Paginations extends View{constructor({totalPages:e,currentPageIndex:t=1,onPageChange:i=()=>{},itemStyle:r=new BaseCSS}){super({totalPages:e,currentPageProvider:Provider.createProvider((()=>t),"currentPage"),onPageChange:i,itemStyle:r})}createWrapView(){return document.createElement("ul")}styledView(e){return e.style.display="flex",e.style.listStyle="none",e.style.padding="0",e}build(){const e=[];let t=Math.max(1,this.props.currentPageProvider.read()-2),i=Math.min(this.props.totalPages,this.props.currentPageProvider.read()+2);i-t+1>5&&(this.props.currentPageProvider<=Math.ceil(2.5)?i=5:t=i-5+1),e.push(new LimitedProviderScope({watchingProviders:[this.props.currentPageProvider],build:e=>new PaginationNavigationItem({label:"<",isActive:1!=e,isAddition:!1,currentPageProvider:this.props.currentPageProvider,itemStyle:this.props.itemStyle})})),t>1&&e.push(new LimitedProviderScope({watchingProviders:[this.props.currentPageProvider],build:()=>new PaginationItem({page:1,label:"1",isActive:!1,onClick:this.props.onPageChange,currentPageProvider:this.props.currentPageProvider,itemStyle:this.props.itemStyle})}));for(let i=t;i<=this.props.totalPages;i++){const t=i;e.push(new LimitedProviderScope({watchingProviders:[this.props.currentPageProvider],build:()=>new PaginationItem({page:t,label:t.toString(),isActive:t===this.props.currentPageProvider.read(),onClick:this.props.onPageChange,currentPageProvider:this.props.currentPageProvider,itemStyle:this.props.itemStyle})}))}return e.push(new LimitedProviderScope({watchingProviders:[this.props.currentPageProvider],build:e=>new PaginationNavigationItem({label:">",isActive:e!=this.props.totalPages,isAddition:!0,currentPageProvider:this.props.currentPageProvider,itemStyle:this.props.itemStyle})})),e}}class PaginationItem extends View{constructor({page:e,label:t,isActive:i,onClick:r,currentPageProvider:s,itemStyle:o}){super({page:e,label:t,isActive:i,onClick:r,currentPageProvider:s,itemStyle:o})}createWrapView(){return document.createElement("li")}styledView(e){return e.style.margin="0 5px",e.style.padding="5px 10px",e.style.border="1px solid #ccc",e.style.borderRadius="5px",e.style.cursor="pointer",this.props.isActive&&(e.style.backgroundColor="#ccc"),(e=this.props.itemStyle.applyCSS(e)).textContent=this.props.label,e}embedScriptToView(e){return e.addEventListener("click",(()=>{this.props.onClick(this.props.page),this.props.currentPageProvider.update((()=>this.props.page))})),e}}class PaginationNavigationItem extends View{constructor({label:e,onClick:t=()=>{},currentPageProvider:i,isAddition:r=!0,isActive:s=!0}){super({label:e,onClick:t,currentPageProvider:i,isAddition:r,isActive:s})}createWrapView(){return document.createElement("li")}styledView(e){return e.style.margin="0 5px",e.style.padding="5px 10px",e.style.border="1px solid #ccc",e.style.borderRadius="5px",e.style.cursor="pointer",this.props.isActive||(e.style.backgroundColor="#ccc"),e.textContent=this.props.label,e}embedScriptToView(e){return e.addEventListener("click",(()=>{this.props.isActive&&(this.props.onClick(this.props.page),this.props.currentPageProvider.update((e=>this.props.isAddition?++e:--e)))})),e}}class PageRouter extends View{constructor({pages:e=[]}){super({pages:e,pageHistoryProvider:Provider.createProvider((()=>[0]),"pageHistoryProvider__PageRouter"),currentPageIndexProvider:Provider.createProvider((()=>0),"currentPageIndexProvider__PageRouter")})}createWrapView(){return document.createElement("div")}build(){return 0===this.props.pages.length?null:new LimitedProviderScope({watchingProviders:[this.props.currentPageIndexProvider],build:e=>this.props.pages[e[0]]})}pushPage(e){this.props.pageHistoryProvider.update((t=>[...t,e])),this.props.currentPageIndexProvider.update((()=>e))}popPage(){this.props.pageHistoryProvider.update((e=>{if(e.length>1){const t=e.slice(0,-1);return this.props.currentPageIndexProvider.update((()=>t[t.length-1])),t}return e}))}replacePage(e){this.props.pageHistoryProvider.update((t=>{const i=[...t.slice(0,-1),e];return this.props.currentPageIndexProvider.update((()=>e)),i}))}canPop(){return this.props.pageHistoryProvider.read().length>1}}class Header extends View{constructor({child:e,isStickyHeader:t=!1}){super({child:e,isStickyHeader:t})}createWrapView(){return document.createElement("div")}styledView(e){return this.props.isStickyHeader&&(e.style.position="sticky"),e.style.top="0",e.style.zIndex=999,e}build(){return this.props.child}}class Scaffold extends View{constructor({child:e,header:t=null,footer:i=null,drawer:r=null,floatingActionButton:s=null}){if(!(t instanceof Header))throw new Error("Scaffold header property must assign Header class");super({child:e,header:t,footer:i,drawer:r,floatingActionButton:s})}createWrapView(){return document.createElement("div")}styledView(e){return e.style.width="100%",e.style.height="100%",e}build(){const e=[];return this.props.header&&e.push(this.props.header),e.push(this.props.child),this.props.footer&&e.push(this.props.footer),new Column({children:e})}}class CodeBlock extends View{constructor({code:e,language:t,showLineNumbers:i}){super({code:e,language:t,showLineNumbers:i})}createWrapView(){return document.createElement("div")}build(){return new _Pre({code:this.props.code,language:this.props.language})}}class _Pre extends View{constructor({code:e,language:t}){super({code:e,language:t})}createWrapView(){return document.createElement("pre")}styledView(e){return e.style.whiteSpace="pre-wrap",e}build(){return new _Code(this.props.code)}}class _Code extends View{constructor({code:e,language:t}){super({code:e,language:t})}createWrapView(){return document.createElement("code")}styledView(e){return e.classList.add(`lang-${this.props.language}`),e.classList.add(`${this.props.language}`),e.innerHTML=this.props.code,e}}class RelativePositions{static TOP=new RelativePositions("top");static TOP_RIGHT=new RelativePositions("top-right");static RIGHT=new RelativePositions("right");static BOTTOM_RIGHT=new RelativePositions("bottom-right");static BOTTOM=new RelativePositions("bottom");static BOTTOM_LEFT=new RelativePositions("bottom-left");static LEFT=new RelativePositions("left");static TOP_LEFT=new RelativePositions("top-left");static CENTER=new RelativePositions("center");constructor(e){this.value=e}applyCSS(e){switch(this.value){case"center":return e.style.margin="auto",e;case"top":return e.style.margin="auto",e.style.marginTop="0",e;case"top-right":return e.style.margin="auto",e.style.marginTop="0",e.style.marginRight="0",e;case"right":return e.style.margin="auto",e.style.marginRight="0",e;case"bottom-right":return e.style.margin="auto",e.style.marginRight="0",e.style.marginBottom="0",e;case"bottom":return e.style.margin="auto",e.style.marginBottom="0",e;case"bottom-left":return e.style.margin="auto",e.style.marginLeft="0",e.style.marginBottom="0",e;case"left":return e.style.margin="auto",e.style.marginLeft="0",e;case"top-left":return e.style.margin="auto",e.style.marginTop="0",e.style.marginLeft="0",e;default:throw new Error("RelativePositions must created by static method, RelativePositions.TOP, RelativePositions.BOTTOM, RelativePositions.RIGHT, etc")}}}function assembleView(e,t="fJutteS-Container"){let i=e.view,r=document.getElementById(t);return null!=r&&r.appendChild(i),e.addPseudoElement(),e._rendered(),i}export{Accordion,BaseCSS,BorderCSS,Box,Card,Center,Chips,Clip,CodeBlock,Column,CreateIllegalInstanceError,CustomError,DropDownMenu,DropDownMenuItem,DynamicProviderScope,ElevatedButton,ExpandsPanel,FloatingActionButton,FontCSS,Grid,Header,Hover,IllegalPreBuildDoSomothingError,Image,LimitedProviderScope,Link,Margin,OverridePreBuildMethodInProviderScopeError,Padding,PageRouter,Paginations,Position,Provider,ProviderObserver,ProviderScope,RadioButton,RelativePosition,RelativePositions,Row,Scaffold,ShadowLevel,Shrink,SimpleDialog,Slider,SpaceBox,Stack,Text,TextArea,TextCSS,TextForm,Transform,View,WebkitCSS,assembleView,assembleView as default,generateUUID};
